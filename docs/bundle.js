!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/weather-rescue-demo",n(n.s=56)}([function(t,e){t.exports=React},function(t,e,n){t.exports=n(25)()},function(t,e,n){"use strict";var r=n(5),o=n(49);function i(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function a(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function s(t){return 1===t.length?"0"+t:t}function u(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=o,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),o=0;o<t.length;o+=2)n.push(parseInt(t[o]+t[o+1],16))}else for(var r=0,o=0;o<t.length;o++){var a=t.charCodeAt(o);a<128?n[r++]=a:a<2048?(n[r++]=a>>6|192,n[r++]=63&a|128):i(t,o)?(a=65536+((1023&a)<<10)+(1023&t.charCodeAt(++o)),n[r++]=a>>18|240,n[r++]=a>>12&63|128,n[r++]=a>>6&63|128,n[r++]=63&a|128):(n[r++]=a>>12|224,n[r++]=a>>6&63|128,n[r++]=63&a|128)}else for(o=0;o<t.length;o++)n[o]=0|t[o];return n},e.toHex=function(t){for(var e="",n=0;n<t.length;n++)e+=s(t[n].toString(16));return e},e.htonl=a,e.toHex32=function(t,e){for(var n="",r=0;r<t.length;r++){var o=t[r];"little"===e&&(o=a(o)),n+=u(o.toString(16))}return n},e.zero2=s,e.zero8=u,e.join32=function(t,e,n,o){var i=n-e;r(i%4==0);for(var a=new Array(i/4),s=0,u=e;s<a.length;s++,u+=4){var c;c="big"===o?t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],a[s]=c>>>0}return a},e.split32=function(t,e){for(var n=new Array(4*t.length),r=0,o=0;r<t.length;r++,o+=4){var i=t[r];"big"===e?(n[o]=i>>>24,n[o+1]=i>>>16&255,n[o+2]=i>>>8&255,n[o+3]=255&i):(n[o+3]=i>>>24,n[o+2]=i>>>16&255,n[o+1]=i>>>8&255,n[o]=255&i)}return n},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,n){return t+e+n>>>0},e.sum32_4=function(t,e,n,r){return t+e+n+r>>>0},e.sum32_5=function(t,e,n,r,o){return t+e+n+r+o>>>0},e.sum64=function(t,e,n,r){var o=t[e],i=r+t[e+1]>>>0,a=(i<r?1:0)+n+o;t[e]=a>>>0,t[e+1]=i},e.sum64_hi=function(t,e,n,r){return(e+r>>>0<e?1:0)+t+n>>>0},e.sum64_lo=function(t,e,n,r){return e+r>>>0},e.sum64_4_hi=function(t,e,n,r,o,i,a,s){var u=0,c=e;return u+=(c=c+r>>>0)<e?1:0,u+=(c=c+i>>>0)<i?1:0,t+n+o+a+(u+=(c=c+s>>>0)<s?1:0)>>>0},e.sum64_4_lo=function(t,e,n,r,o,i,a,s){return e+r+i+s>>>0},e.sum64_5_hi=function(t,e,n,r,o,i,a,s,u,c){var l=0,h=e;return l+=(h=h+r>>>0)<e?1:0,l+=(h=h+i>>>0)<i?1:0,l+=(h=h+s>>>0)<s?1:0,t+n+o+a+u+(l+=(h=h+c>>>0)<c?1:0)>>>0},e.sum64_5_lo=function(t,e,n,r,o,i,a,s,u,c){return e+r+i+s+c>>>0},e.rotr64_hi=function(t,e,n){return(e<<32-n|t>>>n)>>>0},e.rotr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0},e.shr64_hi=function(t,e,n){return t>>>n},e.shr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0}},function(t,e,n){var r=n(8),o=n(11),i=new r(o.host+"/api",{"Content-Type":"application/json",Accept:"application/vnd.api+json; version=1"},{params:o.params,beforeEveryRequest:function(){return n(19).checkBearerToken()},handleError:function(t){var e;if(t instanceof Error)throw t;t.body&&"object"==typeof t.body?t.body.error?(e=t.body.error,t.body.error_description&&(e+=" "+t.error_description)):e=Array.isArray(t.body.errors)?t.body.errors.map(function(t){return"string"==typeof t.message?t.message:"object"==typeof t.message?Object.keys(t.message).map(function(e){return e+" "+t.message[e]}).join("\n"):void 0}).join("\n"):"Unknown error (bad response body)":e="Unknown error (bad response)";var n=new Error(e);throw n.status=t.status,n.statusText=t.statusText,n}});t.exports=i},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o,i,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;(u=new Error(e.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=n,n.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)}},function(t,e,n){"use strict";var r=n(2),o=n(5);function i(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=i,i.prototype.update=function(t,e){if(t=r.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var n=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-n,t.length),0===this.pending.length&&(this.pending=null),t=r.join32(t,0,t.length-n,this.endian);for(var o=0;o<t.length;o+=this._delta32)this._update(t,o,o+this._delta32)}return this},i.prototype.digest=function(t){return this.update(this._pad()),o(null===this.pending),this._digest(t)},i.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,n=e-(t+this.padLength)%e,r=new Array(n+this.padLength);r[0]=128;for(var o=1;o<n;o++)r[o]=0;if(t<<=3,"big"===this.endian){for(var i=8;i<this.padLength;i++)r[o++]=0;r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=t>>>24&255,r[o++]=t>>>16&255,r[o++]=t>>>8&255,r[o++]=255&t}else for(r[o++]=255&t,r[o++]=t>>>8&255,r[o++]=t>>>16&255,r[o++]=t>>>24&255,r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=0,i=8;i<this.padLength;i++)r[o++]=0;return r}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(){var e,r,o,i,a,s,u,c,l,h,f,p={}.hasOwnProperty,d=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},y=[].slice;h=n(30),f=n(9),r=n(10),c=n(45),i=n(18),u=n(17),e=n(16),s=["meta","links","linked","data"],a=["HEAD","GET"],l=["POST","PUT","DELETE"],o=function(t){var n,r,o,u;function m(t,e,n){this.root=t,this.headers=null!=e?e:{},this.params={},m.__super__.constructor.call(this,null),this._typesCache={},f(this,n)}for(function(t,e){for(var n in e)p.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(m,i),m.prototype.root="/",m.prototype.headers=null,m.prototype.params=null,m.prototype.reads=0,m.prototype.writes=0,m.prototype._typesCache=null,m.prototype.beforeEveryRequest=function(){return Promise.resolve()},m.prototype.request=function(t,n,r,o,i){return this.beforeEveryRequest().then((s=this,function(){var u,c,p,y;return t=t.toUpperCase(),p=s.root+n,c=f({},s.params,r),u=f({},e,s.headers,o),d.call(a,t)>=0?s.update({reads:s.reads+1}):d.call(l,t)>=0&&s.update({writes:s.writes+1}),(y=h(t,p,c,u,i)).catch(function(){return null}).then(function(){return d.call(a,t)>=0?s.update({reads:s.reads-1}):d.call(l,t)>=0?s.update({writes:s.writes-1}):void 0}),y.then(s.processResponse.bind(s)).catch(s.handleError.bind(s))}));var s},n=function(t){return m.prototype[t]=function(){return this.request.apply(this,[t].concat(y.call(arguments)))}},r=0,o=(u=["get","post","put","delete"]).length;r<o;r++)n(u[r]);return m.prototype.processResponse=function(t){var e,n,r,o,i,a,u,c,l,h,f,p,y,m,v,g,b;if(v=function(){try{return JSON.parse(t.text)}catch(t){return{}}}(),e=t.headers,"links"in v&&this._handleLinks(v.links),"linked"in v)for(b in l=v.linked)for(c=l[b],n=0,i=(h=[].concat(c)).length;n<i;n++)y=h[n],this.type(b).create(y,e,v.meta);if(g=[],"data"in v)for(r=0,a=(f=[].concat(v.data)).length;r<a;r++)y=f[r],g.push(this.type(y.type).create(y,e,v.meta));else for(b in v)if(m=v[b],d.call(s,b)<0)for(o=0,u=(p=[].concat(m)).length;o<u;o++)y=p[o],g.push(this.type(b).create(y,e,v.meta));return g},m.prototype._handleLinks=function(t){var e,n,r,o,i,a,s,u;for(s in i=[],t)r=t[s],u=(o=s.split("."))[0],e=o[1],"string"==typeof r?n=r:(n=r.href,a=r.type),i.push(this._handleLink(u,e,n,a));return i},m.prototype._handleLink=function(t,e,n,r){var o,i;if(null==(o=(i=this.type(t))._links)[e]&&(o[e]={}),null!=n&&(i._links[e].href=n),null!=r)return i._links[e].type=r},m.prototype.handleError=function(){return Promise.reject.apply(Promise,arguments)},m.prototype.type=function(t){var e;return null==(e=this._typesCache)[t]&&(e[t]=new c(t,this)),this._typesCache[t]},m}(),t.exports=o,t.exports.makeHTTPRequest=h,t.exports.Emitter=r,t.exports.Type=c,t.exports.Model=i,t.exports.Resource=u}).call(this)},function(t,e){(function(){var e={}.hasOwnProperty;t.exports=function(){var t,n,r,o,i,a;for(n=0,o=(i=Array.prototype.slice.call(arguments,1)).length;n<o;n++)if(null!=(t=i[n]))for(r in t)e.call(t,r)&&(a=t[r],arguments[0][r]=a);return arguments[0]}}).call(this)},function(t,e){(function(){var e,n,r=[].slice;e=function(t,e){var n,r,o,i;return o=function(){var o,i,a;for(a=[],n=o=0,i=t.length;o<i;n=++o)r=t[n],e[n]===r&&a.push(n);return a}(),t.length===(i=e.length)&&i===o.length},n=function(t,e){var n,o,i;Array.isArray(t)?(o=(i=t)[0],t=i[1],n=3<=i.length?r.call(i,2):[],"string"==typeof t&&(t=o[t])):n=[],t.apply(o,n.concat(e))},t.exports=function(){function t(){this._callbacks={}}return t.prototype._callbacks=null,t.prototype.listen=function(){var t,e,n,o,i;return t=2<=arguments.length?r.call(arguments,0,o=arguments.length-1):(o=0,[]),n=arguments[o++],null==(i=t[0])&&(i="change"),null==(e=this._callbacks)[i]&&(e[i]=[]),this._callbacks[i].push(n),this},t.prototype.stopListening=function(){var t,n,o,i,a,s,u,c,l;if(t=2<=arguments.length?r.call(arguments,0,s=arguments.length-1):(s=0,[]),n=arguments[s++],null==(l=t[0])&&(l="change"),null!=this._callbacks[l])if(null!=n){if(Array.isArray(n)){for(a=-1,i=u=(c=this._callbacks[l]).length-1;u>=0;i=u+=-1)if(o=c[i],Array.isArray(o)&&e(n,o)){a=i;break}}else a=this._callbacks[l].lastIndexOf(n);-1!==a&&this._callbacks[l].splice(a,1)}else this._callbacks[l].splice(0);return this},t.prototype.emit=function(){var t,e,o,i,a,s;if(s=arguments[0],i=2<=arguments.length?r.call(arguments,1):[],null==s&&(s="change"),s in this._callbacks)for(e=0,o=(a=this._callbacks[s]).length;e<o;e++)t=a[e],n(t,i);return this},t.prototype.destroy=function(){var t,e,n,r,o;for(o in this.emit("destroy"),this._callbacks)for(e=0,n=(r=this._callbacks[o]).length;e<n;e++)t=r[e],this.stopListening(o,t)},t}()}).call(this)},function(t,e,n){(function(e){var n=y(/\W?panoptes-api-host=([^&]+)/),r=y(/\W?panoptes-api-application=([^&]+)/),o=y(/\W?talk-host=([^&]+)/),i=y(/\W?sugar-host=([^&]+)/),a=y(/\W?stat-host=([^&]+)/),s=e.env.PANOPTES_API_HOST,u=e.env.PANOPTES_API_APPLICATION,c=e.env.TALK_HOST,l=e.env.SUGAR_HOST,h=e.env.STAT_HOST,f=y(/\W?env=(\w+)/)||"production";if(!f.match(/^(production|staging|development)$/))throw new Error('Panoptes Javascript Client Error: Invalid Environment; try setting NODE_ENV to "staging" instead of "production".');var p={http_cache:!0};if("undefined"!=typeof location&&null!==location){var d=window.location.search.substring(1);(d=d.split("&")).map(function(t){var e=t.split("="),n=decodeURIComponent(e[0]),r=decodeURIComponent(e[1]);p[n]&&(p[n]=r)})}function y(t){var e;return"undefined"!=typeof location&&null!==location&&(e=location.search.match(t)),e&&e[1]?e[1]:void 0}t.exports={host:n||s||{production:"https://www.zooniverse.org",staging:"https://panoptes-staging.zooniverse.org",development:"https://panoptes-staging.zooniverse.org"}[f],clientAppID:r||u||{production:"f79cf5ea821bb161d8cbb52d061ab9a2321d7cb169007003af66b43f7b79ce2a",staging:"535759b966935c297be11913acee7a9ca17c025f9f15520e7504728e71110a27",development:"535759b966935c297be11913acee7a9ca17c025f9f15520e7504728e71110a27"}[f],talkHost:o||c||{production:"https://talk.zooniverse.org",staging:"https://talk-staging.zooniverse.org",development:"https://talk-staging.zooniverse.org"}[f],sugarHost:i||l||{production:"https://notifications.zooniverse.org",staging:"https://notifications-staging.zooniverse.org",development:"https://notifications-staging.zooniverse.org"}[f],statHost:a||h||{production:"https://stats.zooniverse.org",staging:"https://stats-staging.zooniverse.org",development:"https://stats-staging.zooniverse.org"}[f],oauthHost:{production:"https://panoptes.zooniverse.org",staging:"https://panoptes-staging.zooniverse.org",development:"https://panoptes-staging.zooniverse.org"}[f],params:p}}).call(this,n(46))},function(t,e,n){"use strict";t.exports=n(27)},function(t,e,n){"use strict";var r=n(12),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return r.isMemo(t)?a:s[t.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,n,r){if("string"!=typeof n){if(d){var o=p(n);o&&o!==d&&t(e,o,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(e),y=u(n),m=0;m<a.length;++m){var v=a[m];if(!(i[v]||r&&r[v]||y&&y[v]||s&&s[v])){var g=f(n,v);try{c(e,v,g)}catch(t){}}}return e}return e}},function(t,e,n){"use strict";(function(t,r){var o,i=n(24);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var a=Object(i.a)(o);e.a=a}).call(this,n(7),n(28)(t))},function(t,e,n){"use strict";t.exports=function(t){return null!==t&&"object"==typeof t}},function(t,e){(function(){t.exports={"Content-Type":"application/vnd.api+json",Accept:"application/vnd.api+json"}}).call(this)},function(t,e,n){(function(){var e,r,o,i,a={}.hasOwnProperty,s=[].slice;e=n(18),r=/{(.+?)}/g,o=function(t){function n(t){if(this._type=t,null==this._type)throw new Error('Don\'t call the Resource constructor directly, use `client.type("things").create({});`');this._headers={},this._meta={},this._linksCache={},this._savingKeys={},n.__super__.constructor.call(this,null),this._type.emit("change"),this.emit("create")}return function(t,e){for(var n in e)a.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,e),n.prototype._type=null,n.prototype._headers=null,n.prototype._meta=null,n.prototype._linksCache=null,n.prototype._savingKeys=null,n.prototype._write=Promise.resolve(),n.prototype.getMeta=function(t){return null==t&&(t=this._type._name),this._meta[t]},n.prototype.update=function(){var t;return t=n.__super__.update.apply(this,arguments),this.id&&this._type._resourcesCache[this.id]!==this&&(this._type._resourcesCache[this.id]=this,null!=this.href&&(this._type._resourcesCache[this.href]=this),this._type.emit("change")),t},n.prototype.save=function(t){var e,n,r,o,a;for(r in null==t&&(t={}),o={},n=this.toJSON.call(this.getChangesSinceSave()),o[this._type._name]=n,this._changedKeys.splice(0),n)null==(e=this._savingKeys)[r]&&(e[r]=0),this._savingKeys[r]+=1;return this._write=this._write.catch(function(){return null}).then((a=this,function(){var e;return e=a.id?a.refresh(!0,t).then(function(){return a._type._client.put(a._getURL(),o,a._getHeadersForModification(),t)}):a._type._client.post(a._type._getURL(),o,{},t),new i(e.then(function(t){var e;for(r in e=t[0],n)a._savingKeys[r]-=1,0===a._savingKeys[r]&&delete a._savingKeys[r];return e!==a&&(a.update(e),e.destroy()),a.emit("save"),a}))})),this._write},n.prototype.getChangesSinceSave=function(){var t,e,n,r,o;for(t={},e=0,r=(o=this._changedKeys).length;e<r;e++)t[n=o[e]]=this[n];return t},n.prototype.refresh=function(t,e){var n,r;if(null==e&&(e={}),t)return n=this.getChangesSinceSave(),this.refresh(!1,e).then((r=this,function(){return r.update(n)}));if(this.id)return this._type._client.get(this._getURL(),e);throw new Error("Can't refresh a resource with no ID")},n.prototype.uncache=function(){if(this.id)return this.emit("uncache"),delete this._type._resourcesCache[this.id],delete this._type._resourcesCache[this.href];throw new Error("Can't uncache a resource with no ID")},n.prototype.delete=function(t){var e;return null==t&&(t={}),this._write=this._write.catch(function(){return null}).then((e=this,function(){var n;return n=e.id?e.refresh(!0,t).then(function(){return e._type._client.delete(e._getURL(),null,e._getHeadersForModification(),t)}):Promise.resolve(),new i(n.then(function(){return e.emit("delete"),e._type.emit("change"),e.destroy(),null}))})),this._write},n.prototype.get=function(t,e){var n,r,o,a,s,u,c,l,h,f,p,d,y,m,v;return null!=this._linksCache[t]&&null==e?this._linksCache[t]:(p=null!=(u=this.links)?u[t]:void 0,m=this._type._links[t],(d=null!=p||null!=m?(o=null!=(c=null!=p?p.href:void 0)?c:null!=m?m.href:void 0,y=null!=(l=null!=p?p.type:void 0)?l:null!=m?m.type:void 0,null!=(a=null!=(h=null!=p?p.id:void 0)?h:null!=m?m.id:void 0)||(a="string"==typeof p?p:void 0),null!=(s=null!=(f=null!=p?p.ids:void 0)?f:null!=m?m.ids:void 0)||(s=Array.isArray(p)?p:void 0),null!=o?(r=this._applyHREF(o),null!=(n=this._type._client.type(y)._resourcesCache[r])&&null==e?Promise.resolve(n):this._type._client.get(r,e).then(function(t){return null!=a?t[0]:t})):null!=y?this._type._client.type(y).get(null!=a?a:s,e).then(function(t){return null!=a?t[0]:t}):void 0):t in this?Promise.resolve(this[t]):this._type._client.get(this._getURL(t))).then((v=this,function(){if(null==e)return v._linksCache[t]=d})),new i(d))},n.prototype._applyHREF=function(t){var e;return(e={})[this._type._name]=this,t.replace(r,function(n,r){var o,i,a,s,u;for(s=r.split("."),u=e;0!==s.length;)u=null!=(o=u[a=s.shift()])?o:null!=(i=u.links)?i[a]:void 0;if(Array.isArray(u)&&(u=u.join(",")),"string"!=typeof u)throw new Error("Value for '"+r+"' in '"+t+"' should be a string.");return u})},n.prototype.addLink=function(t,e){var n,r,o;return r=this._getURL("links",t),(n={})[t]=e,this._type._client.post(r,n).then((o=this,function(){return o.uncacheLink(t),o.refresh()}))},n.prototype.removeLink=function(t,e){var n,r;return n=this._getURL("links",t,[].concat(e).join(",")),this._type._client.delete(n).then((r=this,function(){return r.uncacheLink(t),r.refresh()}))},n.prototype.uncacheLink=function(t){return delete this._linksCache[t]},n.prototype._getHeadersForModification=function(){var t,e;for(t in e={"If-Unmodified-Since":this._getHeader("Last-Modified"),"If-Match":this._getHeader("ETag")})null==e[t]&&delete e[t];return e},n.prototype._getHeader=function(t){var e,n;return t=t.toLowerCase(),function(){var r,o;for(e in o=[],r=this._headers)n=r[e],e.toLowerCase()===t&&o.push(n);return o}.call(this)[0]},n.prototype._getURL=function(){var t;return this.href?[this.href].concat(s.call(arguments)).join("/"):(t=this._type)._getURL.apply(t,[this.id].concat(s.call(arguments)))},n}(),i=function(){var t,e;function n(t){if(this._promise=t,!(this._promise instanceof Promise))throw new Error("ResourcePromise requires a real promise instance")}for(t in n.prototype._promise=null,n.prototype.then=function(){var t;return(t=this._promise).then.apply(t,arguments)},n.prototype.catch=function(){var t;return(t=this._promise).catch.apply(t,arguments)},n.prototype.index=function(t){return this._promise=this._promise.then(function(e){var n,r;return n=t,r=e.length,e[t=(+n%(r=+r)+r)%r]}),this},e=o.prototype)"function"!=typeof e[t]||t in n.prototype||function(t){n.prototype[t]=function(){var e,n;return e=1<=arguments.length?s.call(arguments,0):[],this._promise=this._promise.then((n=this,function(r){var o,i,a;return a=function(){var n,a,s,u;for(u=[],n=0,a=(s=[].concat(r)).length;n<a;n++)o=s[n],(i=o[t].apply(o,e))instanceof this.constructor&&(i=i._promise),u.push(i);return u}.call(n),Array.isArray(r)?Promise.all(a):a[0]})),this}}(t);return n}(),t.exports=o,t.exports.Promise=i}).call(this)},function(t,e,n){(function(){var e,r,o,i,a={}.hasOwnProperty,s=[].slice,u=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};e=n(10),o=n(9),r=function(t){var e;return(e=parseInt(t,10)).toString(10)===t&&!isNaN(e)},i=function(t){var e,n,r,o,a,s;if(Array.isArray(t)){for(a=[],e=0,r=t.length;e<r;e++)s=t[e],a.push(i(s));return a}if(null!=t&&"object"==typeof t){for(n in o={},t)s=t[n],"_"!==n.charAt(0)&&(o[n]=i(s));return o}return t},t.exports=function(t){function n(){var t;t=1<=arguments.length?s.call(arguments,0):[],n.__super__.constructor.apply(this,arguments),this._changedKeys=[],o.apply(null,[this].concat(s.call(t))),this.emit("create")}return function(t,e){for(var n in e)a.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,e),n.prototype._changedKeys=null,n.prototype.update=function(t){var e,n,o,i,s,c,l,h,f,p;if(null==t&&(t={}),"string"==typeof t)for(n=0,s=arguments.length;n<s;n++)o=arguments[n],u.call(this._changedKeys,o)<0&&(h=this._changedKeys).push.apply(h,arguments);else for(o in t)if(a.call(t,o)){for(p=t[o],f=(l=o.split("."))[0],e=this;1!==l.length;)null==e[c=l[0]]&&(e[c]=r(l[1])?[]:{}),e=e[l.shift()];i=l.shift(),void 0===p?Array.isArray(e)?e.splice(i,1):delete e[i]:e[i]=p,u.call(this._changedKeys,f)<0&&this._changedKeys.push(f)}return this.emit("change"),this},n.prototype.hasUnsavedChanges=function(){return 0!==this._changedKeys.length},n.prototype.toJSON=function(){return i(this)},n.prototype.destroy=function(){return this._changedKeys.splice(0),n.__super__.destroy.apply(this,arguments)},n}()}).call(this)},function(t,e,n){var r=n(8),o=r.Model,i=r.makeHTTPRequest,a=n(11),s=n(47),u={"Content-Type":"application/json",Accept:"application/json"};t.exports=new o({_currentUserPromise:null,_bearerToken:"",_bearerTokenExpiration:NaN,_refreshToken:"",_tokenRefreshPromise:null,_getAuthToken:function(){console.log("Getting auth token");var t=a.host+"/users/sign_in/?now="+Date.now();return i("GET",t,null,u).then(function(t){var e=t.header["x-csrf-token"];return console.info("Got auth token",e.slice(-6)),e}).catch(function(t){console.error("Failed to get auth token"),s.handleError(t)})},_getBearerToken:function(){if(console.log("Getting bearer token"),this._bearerToken)return console.info("Already had a bearer token",this._bearerToken),Promise.resolve(this._bearerToken);var t=a.host+"/oauth/token",e={grant_type:"password",client_id:a.clientAppID};return i("POST",t,e,u).then(function(t){var e=this._handleNewBearerToken(t);return console.info("Got bearer token",e.slice(-6)),e}.bind(this)).catch(function(t){return console.error("Failed to get bearer token"),s.handleError(t)})},_handleNewBearerToken:function(t){var e=JSON.parse(t.text);return this._bearerToken=e.access_token,s.headers.Authorization="Bearer "+this._bearerToken,this._bearerTokenExpiration=Date.now()+1e3*e.expires_in,this._refreshToken=e.refresh_token,this._bearerToken},_bearerTokenIsExpired:function(){return Date.now()>=this._bearerTokenExpiration-6e4},_refreshBearerToken:function(){if(null===this._tokenRefreshPromise){console.log("Refreshing expired bearer token");var t=a.host+"/oauth/token",e={grant_type:"refresh_token",refresh_token:this._refreshToken,client_id:a.clientAppID};this._tokenRefreshPromise=i("POST",t,e,u).then(function(t){var e=this._handleNewBearerToken(t);console.info("Refreshed bearer token",e.slice(-6))}.bind(this)).catch(function(t){console.error("Failed to refresh bearer token"),s.handleError(t)}).then(function(){this._tokenRefreshPromise=null}.bind(this))}return this._tokenRefreshPromise},_deleteBearerToken:function(){this._bearerToken="",delete s.headers.Authorization,this._bearerTokenExpiration=NaN,this._refreshToken="",console.log("Deleted bearer token")},_getSession:function(){return console.log("Getting session"),s.get("/me").then(function(t){var e=t[0];return console.info("Got session",e.login,e.id),e}).catch(function(t){throw console.error("Failed to get session"),t})},register:function(t){var e=arguments;return this.checkCurrent().then(function(n){if(n)return this.signOut().then(function(){return this.register.apply(this,e)}.bind(this));console.log("Registering new account",t.login);var r=this._getAuthToken().then(function(e){var n={authenticity_token:e,user:{login:t.login,email:t.email,password:t.password,credited_name:t.credited_name,global_email_communication:t.global_email_communication,project_id:t.project_id,beta_email_communication:t.beta_email_communication,project_email_communication:t.project_email_communication}};return s.post("/../users",n,u).then(function(){return this._getBearerToken().then(function(){return this._getSession().then(function(t){return console.info("Registered account",t.login,t.id),t})}.bind(this))}.bind(this)).catch(function(t){throw console.error("Failed to register"),t})}.bind(this));return this.update({_currentUserPromise:r.catch(function(){return null})}),r}.bind(this))},checkCurrent:function(){return this._currentUserPromise||(console.log("Checking current user"),this.update({_currentUserPromise:this._getBearerToken().then(function(){return this._getSession()}.bind(this)).catch(function(){return console.info("No current user"),null})})),this._currentUserPromise},checkBearerToken:function(){return this._bearerTokenIsExpired()?this._refreshBearerToken():Promise.resolve(this._bearerToken)},signIn:function(t){var e=arguments;return this.checkCurrent().then(function(n){if(n)return this.signOut().then(function(){return this.signIn.apply(this,e)}.bind(this));console.log("Signing in",t.login);var r=this._getAuthToken().then(function(e){var n=a.host+"/users/sign_in",r={authenticity_token:e,user:{login:t.login,password:t.password,remember_me:!0}};return i("POST",n,r,u).then(function(){return this._getBearerToken().then(function(){return this._getSession().then(function(t){return console.info("Signed in",t.login,t.id),t}.bind(this))}.bind(this))}.bind(this)).catch(function(t){console.error("Failed to sign in"),s.handleError(t)})}.bind(this));return this.update({_currentUserPromise:r.catch(function(){return null})}),r}.bind(this))},changePassword:function(t){return this.checkCurrent().then(function(e){if(e)return this._getAuthToken().then(function(n){var r={authenticity_token:n,user:{current_password:t.current,password:t.replacement,password_confirmation:t.replacement}};return s.put("/../users",r,u).then(function(){return this.signOut()}.bind(this)).then(function(){return this.signIn({login:e.login,password:t.replacement})}.bind(this))}.bind(this));throw new Error("No signed-in user to change the password for")}.bind(this))},requestPasswordReset:function(t){return this._getAuthToken().then(function(e){var n={authenticity_token:e,user:{email:t.email}};return s.post("/../users/password",n,u)}.bind(this))},resetPassword:function(t){return this._getAuthToken().then(function(e){var n={authenticity_token:e,user:{password:t.password,password_confirmation:t.confirmation,reset_password_token:t.token}};return s.put("/../users/password",n,u)}.bind(this))},disableAccount:function(){return console.log("Disabling account"),this.checkCurrent().then(function(t){if(t)return t.delete().then(function(){return this._deleteBearerToken(),this.update({_currentUserPromise:Promise.resolve(null)}),console.info("Disabled account"),null}.bind(this));throw new Error("Failed to disable account; not signed in")}.bind(this))},signOut:function(){return console.log("Signing out"),this.checkCurrent().then(function(t){if(t)return this._getAuthToken().then(function(t){var e=a.host+"/users/sign_out",n=Object.create(u);return n["X-CSRF-Token"]=t,i("DELETE",e,null,n).then(function(){return this._deleteBearerToken(),this.update({_currentUserPromise:Promise.resolve(null)}),console.info("Signed out"),null}.bind(this)).catch(function(t){return console.error("Failed to sign out"),s.handleError(t)}.bind(this))}.bind(this));throw new Error("Failed to sign out; not signed in")}.bind(this))},unsubscribeEmail:function(t){return this._getAuthToken().then(function(e){var n=a.host+"/unsubscribe",r={authenticity_token:e,email:t.email};return i("POST",n,r,u)}.bind(this))}})},function(t,e,n){"use strict";var r=n(2).rotr32;function o(t,e,n){return t&e^~t&n}function i(t,e,n){return t&e^t&n^e&n}function a(t,e,n){return t^e^n}e.ft_1=function(t,e,n,r){return 0===t?o(e,n,r):1===t||3===t?a(e,n,r):2===t?i(e,n,r):void 0},e.ch32=o,e.maj32=i,e.p32=a,e.s0_256=function(t){return r(t,2)^r(t,13)^r(t,22)},e.s1_256=function(t){return r(t,6)^r(t,11)^r(t,25)},e.g0_256=function(t){return r(t,7)^r(t,18)^t>>>3},e.g1_256=function(t){return r(t,17)^r(t,19)^t>>>10}},function(t,e,n){"use strict";var r=n(2),o=n(6),i=n(20),a=n(5),s=r.sum32,u=r.sum32_4,c=r.sum32_5,l=i.ch32,h=i.maj32,f=i.s0_256,p=i.s1_256,d=i.g0_256,y=i.g1_256,m=o.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}r.inherits(g,m),t.exports=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(t,e){for(var n=this.W,r=0;r<16;r++)n[r]=t[e+r];for(;r<n.length;r++)n[r]=u(y(n[r-2]),n[r-7],d(n[r-15]),n[r-16]);var o=this.h[0],i=this.h[1],m=this.h[2],v=this.h[3],g=this.h[4],b=this.h[5],E=this.h[6],_=this.h[7];for(a(this.k.length===n.length),r=0;r<n.length;r++){var T=c(_,p(g),l(g,b,E),this.k[r],n[r]),w=s(f(o),h(o,i,m));_=E,E=b,b=g,g=s(v,T),v=m,m=i,i=o,o=s(T,w)}this.h[0]=s(this.h[0],o),this.h[1]=s(this.h[1],i),this.h[2]=s(this.h[2],m),this.h[3]=s(this.h[3],v),this.h[4]=s(this.h[4],g),this.h[5]=s(this.h[5],b),this.h[6]=s(this.h[6],E),this.h[7]=s(this.h[7],_)},g.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(t,e,n){"use strict";var r=n(2),o=n(6),i=n(5),a=r.rotr64_hi,s=r.rotr64_lo,u=r.shr64_hi,c=r.shr64_lo,l=r.sum64,h=r.sum64_hi,f=r.sum64_lo,p=r.sum64_4_hi,d=r.sum64_4_lo,y=r.sum64_5_hi,m=r.sum64_5_lo,v=o.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}function E(t,e,n,r,o){var i=t&n^~t&o;return i<0&&(i+=4294967296),i}function _(t,e,n,r,o,i){var a=e&r^~e&i;return a<0&&(a+=4294967296),a}function T(t,e,n,r,o){var i=t&n^t&o^n&o;return i<0&&(i+=4294967296),i}function w(t,e,n,r,o,i){var a=e&r^e&i^r&i;return a<0&&(a+=4294967296),a}function S(t,e){var n=a(t,e,28)^a(e,t,2)^a(e,t,7);return n<0&&(n+=4294967296),n}function O(t,e){var n=s(t,e,28)^s(e,t,2)^s(e,t,7);return n<0&&(n+=4294967296),n}function C(t,e){var n=a(t,e,14)^a(t,e,18)^a(e,t,9);return n<0&&(n+=4294967296),n}function R(t,e){var n=s(t,e,14)^s(t,e,18)^s(e,t,9);return n<0&&(n+=4294967296),n}function k(t,e){var n=a(t,e,1)^a(t,e,8)^u(t,e,7);return n<0&&(n+=4294967296),n}function A(t,e){var n=s(t,e,1)^s(t,e,8)^c(t,e,7);return n<0&&(n+=4294967296),n}function I(t,e){var n=a(t,e,19)^a(e,t,29)^u(t,e,6);return n<0&&(n+=4294967296),n}function P(t,e){var n=s(t,e,19)^s(e,t,29)^c(t,e,6);return n<0&&(n+=4294967296),n}r.inherits(b,v),t.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(t,e){for(var n=this.W,r=0;r<32;r++)n[r]=t[e+r];for(;r<n.length;r+=2){var o=I(n[r-4],n[r-3]),i=P(n[r-4],n[r-3]),a=n[r-14],s=n[r-13],u=k(n[r-30],n[r-29]),c=A(n[r-30],n[r-29]),l=n[r-32],h=n[r-31];n[r]=p(o,i,a,s,u,c,l,h),n[r+1]=d(o,i,a,s,u,c,l,h)}},b.prototype._update=function(t,e){this._prepareBlock(t,e);var n=this.W,r=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],u=this.h[4],c=this.h[5],p=this.h[6],d=this.h[7],v=this.h[8],g=this.h[9],b=this.h[10],k=this.h[11],A=this.h[12],I=this.h[13],P=this.h[14],N=this.h[15];i(this.k.length===n.length);for(var x=0;x<n.length;x+=2){var j=P,L=N,D=C(v,g),U=R(v,g),M=E(v,g,b,k,A),F=_(v,g,b,k,A,I),H=this.k[x],q=this.k[x+1],W=n[x],z=n[x+1],B=y(j,L,D,U,M,F,H,q,W,z),V=m(j,L,D,U,M,F,H,q,W,z);j=S(r,o),L=O(r,o),D=T(r,o,a,s,u),U=w(r,o,a,s,u,c);var K=h(j,L,D,U),G=f(j,L,D,U);P=A,N=I,A=b,I=k,b=v,k=g,v=h(p,d,B,V),g=f(d,d,B,V),p=u,d=c,u=a,c=s,a=r,s=o,r=h(B,V,K,G),o=f(B,V,K,G)}l(this.h,0,r,o),l(this.h,2,a,s),l(this.h,4,u,c),l(this.h,6,p,d),l(this.h,8,v,g),l(this.h,10,b,k),l(this.h,12,A,I),l(this.h,14,P,N)},b.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(t,e){t.exports=ReactDOM},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";var r=n(26);function o(){}function i(){}i.resetWarningCache=o,t.exports=function(){function t(t,e,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";
/** @license React v16.8.6
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116;function v(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case o:switch(t=t.type){case h:case f:case a:case u:case s:case d:return t;default:switch(t=t&&t.$$typeof){case l:case p:case c:return t;default:return e}}case m:case y:case i:return e}}}function g(t){return v(t)===f}e.typeOf=v,e.AsyncMode=h,e.ConcurrentMode=f,e.ContextConsumer=l,e.ContextProvider=c,e.Element=o,e.ForwardRef=p,e.Fragment=a,e.Lazy=m,e.Memo=y,e.Portal=i,e.Profiler=u,e.StrictMode=s,e.Suspense=d,e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===a||t===f||t===u||t===s||t===d||"object"==typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===y||t.$$typeof===c||t.$$typeof===l||t.$$typeof===p)},e.isAsyncMode=function(t){return g(t)||v(t)===h},e.isConcurrentMode=g,e.isContextConsumer=function(t){return v(t)===l},e.isContextProvider=function(t){return v(t)===c},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===o},e.isForwardRef=function(t){return v(t)===p},e.isFragment=function(t){return v(t)===a},e.isLazy=function(t){return v(t)===m},e.isMemo=function(t){return v(t)===y},e.isPortal=function(t){return v(t)===i},e.isProfiler=function(t){return v(t)===u},e.isStrictMode=function(t){return v(t)===s},e.isSuspense=function(t){return v(t)===d}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){(function(t){!function(e){"use strict";function n(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function r(t,e){Object.defineProperty(this,"kind",{value:t,enumerable:!0}),e&&e.length&&Object.defineProperty(this,"path",{value:e,enumerable:!0})}function o(t,e,n){o.super_.call(this,"E",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function i(t,e){i.super_.call(this,"N",t),Object.defineProperty(this,"rhs",{value:e,enumerable:!0})}function a(t,e){a.super_.call(this,"D",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0})}function s(t,e,n){s.super_.call(this,"A",t),Object.defineProperty(this,"index",{value:e,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function u(t,e,n){var r=t.slice((n||e)+1||t.length);return t.length=e<0?t.length+e:e,t.push.apply(t,r),t}function c(t){var e=void 0===t?"undefined":w(t);return"object"!==e?e:t===Math?"math":null===t?"null":Array.isArray(t)?"array":"[object Date]"===Object.prototype.toString.call(t)?"date":"function"==typeof t.toString&&/^\/.*\//.test(t.toString())?"regexp":"object"}function l(t,e,n,r,h,f,p){p=p||[];var d=(h=h||[]).slice(0);if(void 0!==f){if(r){if("function"==typeof r&&r(d,f))return;if("object"===(void 0===r?"undefined":w(r))){if(r.prefilter&&r.prefilter(d,f))return;if(r.normalize){var y=r.normalize(d,f,t,e);y&&(t=y[0],e=y[1])}}}d.push(f)}"regexp"===c(t)&&"regexp"===c(e)&&(t=t.toString(),e=e.toString());var m=void 0===t?"undefined":w(t),v=void 0===e?"undefined":w(e),g="undefined"!==m||p&&p[p.length-1].lhs&&p[p.length-1].lhs.hasOwnProperty(f),b="undefined"!==v||p&&p[p.length-1].rhs&&p[p.length-1].rhs.hasOwnProperty(f);if(!g&&b)n(new i(d,e));else if(!b&&g)n(new a(d,t));else if(c(t)!==c(e))n(new o(d,t,e));else if("date"===c(t)&&t-e!=0)n(new o(d,t,e));else if("object"===m&&null!==t&&null!==e)if(p.filter(function(e){return e.lhs===t}).length)t!==e&&n(new o(d,t,e));else{if(p.push({lhs:t,rhs:e}),Array.isArray(t)){var E;for(t.length,E=0;E<t.length;E++)E>=e.length?n(new s(d,E,new a(void 0,t[E]))):l(t[E],e[E],n,r,d,E,p);for(;E<e.length;)n(new s(d,E,new i(void 0,e[E++])))}else{var _=Object.keys(t),T=Object.keys(e);_.forEach(function(o,i){var a=T.indexOf(o);a>=0?(l(t[o],e[o],n,r,d,o,p),T=u(T,a)):l(t[o],void 0,n,r,d,o,p)}),T.forEach(function(t){l(void 0,e[t],n,r,d,t,p)})}p.length=p.length-1}else t!==e&&("number"===m&&isNaN(t)&&isNaN(e)||n(new o(d,t,e)))}function h(t,e,n,r){return r=r||[],l(t,e,function(t){t&&r.push(t)},n),r.length?r:void 0}function f(t,e,n){if(t&&e&&n&&n.kind){for(var r=t,o=-1,i=n.path?n.path.length-1:0;++o<i;)void 0===r[n.path[o]]&&(r[n.path[o]]="number"==typeof n.path[o]?[]:{}),r=r[n.path[o]];switch(n.kind){case"A":!function t(e,n,r){if(r.path&&r.path.length){var o,i=e[n],a=r.path.length-1;for(o=0;o<a;o++)i=i[r.path[o]];switch(r.kind){case"A":t(i[r.path[o]],r.index,r.item);break;case"D":delete i[r.path[o]];break;case"E":case"N":i[r.path[o]]=r.rhs}}else switch(r.kind){case"A":t(e[n],r.index,r.item);break;case"D":e=u(e,n);break;case"E":case"N":e[n]=r.rhs}return e}(n.path?r[n.path[o]]:r,n.index,n.item);break;case"D":delete r[n.path[o]];break;case"E":case"N":r[n.path[o]]=n.rhs}}}function p(t){return"color: "+C[t].color+"; font-weight: bold"}function d(t,e,n,r){var o=h(t,e);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(t){n.log("diff")}o?o.forEach(function(t){var e=t.kind,r=function(t){var e=t.kind,n=t.path,r=t.lhs,o=t.rhs,i=t.index,a=t.item;switch(e){case"E":return[n.join("."),r,"→",o];case"N":return[n.join("."),o];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+i+"]",a];default:return[]}}(t);n.log.apply(n,["%c "+C[e].text,p(e)].concat(S(r)))}):n.log("—— no diff ——");try{n.groupEnd()}catch(t){n.log("—— diff end —— ")}}function y(t,e,n,r){switch(void 0===t?"undefined":w(t)){case"object":return"function"==typeof t[r]?t[r].apply(t,S(n)):t[r];case"function":return t(e);default:return t}}function m(t,e){var n=e.logger,r=e.actionTransformer,o=e.titleFormatter,i=void 0===o?function(t){var e=t.timestamp,n=t.duration;return function(t,r,o){var i=["action"];return i.push("%c"+String(t.type)),e&&i.push("%c@ "+r),n&&i.push("%c(in "+o.toFixed(2)+" ms)"),i.join(" ")}}(e):o,a=e.collapsed,s=e.colors,u=e.level,c=e.diff,l=void 0===e.titleFormatter;t.forEach(function(o,h){var f=o.started,p=o.startedTime,m=o.action,v=o.prevState,g=o.error,b=o.took,E=o.nextState,T=t[h+1];T&&(E=T.prevState,b=T.started-f);var w=r(m),S="function"==typeof a?a(function(){return E},m,o):a,O=_(p),C=s.title?"color: "+s.title(w)+";":"",R=["color: gray; font-weight: lighter;"];R.push(C),e.timestamp&&R.push("color: gray; font-weight: lighter;"),e.duration&&R.push("color: gray; font-weight: lighter;");var k=i(w,O,b);try{S?s.title&&l?n.groupCollapsed.apply(n,["%c "+k].concat(R)):n.groupCollapsed(k):s.title&&l?n.group.apply(n,["%c "+k].concat(R)):n.group(k)}catch(t){n.log(k)}var A=y(u,w,[v],"prevState"),I=y(u,w,[w],"action"),P=y(u,w,[g,v],"error"),N=y(u,w,[E],"nextState");if(A)if(s.prevState){var x="color: "+s.prevState(v)+"; font-weight: bold";n[A]("%c prev state",x,v)}else n[A]("prev state",v);if(I)if(s.action){var j="color: "+s.action(w)+"; font-weight: bold";n[I]("%c action    ",j,w)}else n[I]("action    ",w);if(g&&P)if(s.error){var L="color: "+s.error(g,v)+"; font-weight: bold;";n[P]("%c error     ",L,g)}else n[P]("error     ",g);if(N)if(s.nextState){var D="color: "+s.nextState(E)+"; font-weight: bold";n[N]("%c next state",D,E)}else n[N]("next state",E);c&&d(v,E,n,S);try{n.groupEnd()}catch(t){n.log("—— log end ——")}})}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},R,t),n=e.logger,r=e.stateTransformer,o=e.errorTransformer,i=e.predicate,a=e.logErrors,s=e.diffPredicate;if(void 0===n)return function(){return function(t){return function(e){return t(e)}}};if(t.getState&&t.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(t){return function(e){return t(e)}}};var u=[];return function(t){var n=t.getState;return function(t){return function(c){if("function"==typeof i&&!i(n,c))return t(c);var l={};u.push(l),l.started=T.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=c;var h=void 0;if(a)try{h=t(c)}catch(t){l.error=o(t)}else h=t(c);l.took=T.now()-l.started,l.nextState=r(n());var f=e.diff&&"function"==typeof s?s(n,c):e.diff;if(m(u,Object.assign({},e,{diff:f})),u.length=0,l.error)throw l.error;return h}}}}var g,b,E=function(t,e){return function(t,e){return new Array(e+1).join(t)}("0",e-t.toString().length)+t},_=function(t){return E(t.getHours(),2)+":"+E(t.getMinutes(),2)+":"+E(t.getSeconds(),2)+"."+E(t.getMilliseconds(),3)},T="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},O=[];g="object"===(void 0===t?"undefined":w(t))&&t?t:"undefined"!=typeof window?window:{},(b=g.DeepDiff)&&O.push(function(){void 0!==b&&g.DeepDiff===h&&(g.DeepDiff=b,b=void 0)}),n(o,r),n(i,r),n(a,r),n(s,r),Object.defineProperties(h,{diff:{value:h,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:function(t,e,n){t&&e&&l(t,e,function(r){n&&!n(t,e,r)||f(t,e,r)})},enumerable:!0},applyChange:{value:f,enumerable:!0},revertChange:{value:function(t,e,n){if(t&&e&&n&&n.kind){var r,o,i=t;for(o=n.path.length-1,r=0;r<o;r++)void 0===i[n.path[r]]&&(i[n.path[r]]={}),i=i[n.path[r]];switch(n.kind){case"A":!function t(e,n,r){if(r.path&&r.path.length){var o,i=e[n],a=r.path.length-1;for(o=0;o<a;o++)i=i[r.path[o]];switch(r.kind){case"A":t(i[r.path[o]],r.index,r.item);break;case"D":case"E":i[r.path[o]]=r.lhs;break;case"N":delete i[r.path[o]]}}else switch(r.kind){case"A":t(e[n],r.index,r.item);break;case"D":case"E":e[n]=r.lhs;break;case"N":e=u(e,n)}return e}(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==b},enumerable:!0},noConflict:{value:function(){return O&&(O.forEach(function(t){t()}),O=null),h},enumerable:!0}});var C={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},R={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(t){return t},actionTransformer:function(t){return t},errorTransformer:function(t){return t},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dispatch,n=t.getState;return"function"==typeof e||"function"==typeof n?v()({dispatch:e,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=R,e.createLogger=v,e.logger=k,e.default=k,Object.defineProperty(e,"__esModule",{value:!0})}(e)}).call(this,n(7))},function(t,e,n){(function(){var e,r,o,i,a;a=n(31),e=n(16),i=n(37),r={},null!=a.agent&&(a=a.agent()),null==a.parse&&(a.parse={}),a.parse[e.Accept]=JSON.parse.bind(JSON),o=function(t,e,n,s,u){var c,l,h,f,p;if(null==s&&(s={}),l=Array.prototype.slice.call(arguments),t=t.toLowerCase(),e=i(e),"get"===t){for(c in n)p=n[c],Array.isArray(p)&&(n[c]=p.join(","));if(f=e+" "+JSON.stringify(n),null!=r[f])return r[f]}return h=new Promise(function(i,c){var h;return null!=(h=(h=function(){switch(t){case"get":return a.get(e).query(n);case"head":return a.head(e).query(n);case"put":return a.put(e).query(u).send(n);case"post":return a.post(e).query(u).send(n);case"delete":return a.del(e).query(u).query(n)}}()).set(s)).withCredentials&&(h=h.withCredentials()),h.end(function(t,e){return delete r[f],408===(null!=t?t.status:void 0)?i(o.apply(null,l)):null!=t?c(null!=e?e:t):i(e)})}),"get"===t&&(r[f]=h),h},t.exports=o}).call(this)},function(t,e,n){var r;"undefined"!=typeof window?r=window:"undefined"!=typeof self?r=self:(console.warn("Using browser-only version of superagent in non-browser environment"),r=this);var o=n(32),i=n(33),a=n(15),s=n(34),u=n(36);function c(){}var l=e=t.exports=function(t,n){return"function"==typeof n?new e.Request("GET",t).end(n):1==arguments.length?new e.Request("GET",t):new e.Request(t,n)};e.Request=v,l.getXHR=function(){if(!(!r.XMLHttpRequest||r.location&&"file:"==r.location.protocol&&r.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw Error("Browser-only version of superagent could not find XHR")};var h="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};function f(t){if(!a(t))return t;var e=[];for(var n in t)p(e,n,t[n]);return e.join("&")}function p(t,e,n){if(null!=n)if(Array.isArray(n))n.forEach(function(n){p(t,e,n)});else if(a(n))for(var r in n)p(t,e+"["+r+"]",n[r]);else t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));else null===n&&t.push(encodeURIComponent(e))}function d(t){for(var e,n,r={},o=t.split("&"),i=0,a=o.length;i<a;++i)-1==(n=(e=o[i]).indexOf("="))?r[decodeURIComponent(e)]="":r[decodeURIComponent(e.slice(0,n))]=decodeURIComponent(e.slice(n+1));return r}function y(t){return/[\/+]json($|[^-\w])/.test(t)}function m(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.header=this.headers=function(t){for(var e,n,r,o,i=t.split(/\r?\n/),a={},s=0,u=i.length;s<u;++s)-1!==(e=(n=i[s]).indexOf(":"))&&(r=n.slice(0,e).toLowerCase(),o=h(n.slice(e+1)),a[r]=o);return a}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function v(t,e){var n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t,e=null,r=null;try{r=new m(n)}catch(t){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=t,n.xhr?(e.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,e.status=n.xhr.status?n.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),n.callback(e)}n.emit("response",r);try{n._isResponseOK(r)||(t=new Error(r.statusText||"Unsuccessful HTTP response"))}catch(e){t=e}t?(t.original=e,t.response=r,t.status=r.status,n.callback(t,r)):n.callback(null,r)})}function g(t,e,n){var r=l("DELETE",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}l.serializeObject=f,l.parseString=d,l.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},l.serialize={"application/x-www-form-urlencoded":f,"application/json":JSON.stringify},l.parse={"application/x-www-form-urlencoded":d,"application/json":JSON.parse},s(m.prototype),m.prototype._parseBody=function(t){var e=l.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&y(this.type)&&(e=l.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null)},m.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,r="cannot "+e+" "+n+" ("+this.status+")",o=new Error(r);return o.status=this.status,o.method=e,o.url=n,o},l.Response=m,o(v.prototype),i(v.prototype),v.prototype.type=function(t){return this.set("Content-Type",l.types[t]||t),this},v.prototype.accept=function(t){return this.set("Accept",l.types[t]||t),this},v.prototype.auth=function(t,e,n){1===arguments.length&&(e=""),"object"==typeof e&&null!==e&&(n=e,e=""),n||(n={type:"function"==typeof btoa?"basic":"auto"});return this._auth(t,e,n,function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")})},v.prototype.query=function(t){return"string"!=typeof t&&(t=f(t)),t&&this._query.push(t),this},v.prototype.attach=function(t,e,n){if(e){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,n||e.name)}return this},v.prototype._getFormData=function(){return this._formData||(this._formData=new r.FormData),this._formData},v.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var n=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),n(t,e)},v.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},v.prototype.buffer=v.prototype.ca=v.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},v.prototype.pipe=v.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},v.prototype._isHost=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},v.prototype.end=function(t){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||c,this._finalizeQueryString(),this._end()},v.prototype._end=function(){var t=this,e=this.xhr=l.getXHR(),n=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var n=e.readyState;if(n>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4==n){var r;try{r=e.status}catch(t){r=0}if(!r){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}};var r=function(e,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=e,t.emit("progress",n)};if(this.hasListeners("progress"))try{e.onprogress=r.bind(null,"download"),e.upload&&(e.upload.onprogress=r.bind(null,"upload"))}catch(t){}try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(t){return this.callback(t)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!this._isHost(n)){var o=this._header["content-type"],i=this._serializer||l.serialize[o?o.split(";")[0]:""];!i&&y(o)&&(i=l.serialize["application/json"]),i&&(n=i(n))}for(var a in this.header)null!=this.header[a]&&this.header.hasOwnProperty(a)&&e.setRequestHeader(a,this.header[a]);return this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(void 0!==n?n:null),this},l.agent=function(){return new u},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(t){u.prototype[t.toLowerCase()]=function(e,n){var r=new l.Request(t,e);return this._setDefaults(r),n&&r.end(n),r}}),u.prototype.del=u.prototype.delete,l.get=function(t,e,n){var r=l("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},l.head=function(t,e,n){var r=l("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},l.options=function(t,e,n){var r=l("OPTIONS",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},l.del=g,l.delete=g,l.patch=function(t,e,n){var r=l("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},l.post=function(t,e,n){var r=l("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},l.put=function(t,e,n){var r=l("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}},function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<r.length;o++)if((n=r[o])===e||n.fn===e){r.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){"use strict";var r=n(15);function o(t){if(t)return function(t){for(var e in o.prototype)t[e]=o.prototype[e];return t}(t)}t.exports=o,o.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},o.prototype.parse=function(t){return this._parser=t,this},o.prototype.responseType=function(t){return this._responseType=t,this},o.prototype.serialize=function(t){return this._serializer=t,this},o.prototype.timeout=function(t){if(!t||"object"!=typeof t)return this._timeout=t,this._responseTimeout=0,this;for(var e in t)switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;default:console.warn("Unknown timeout option",e)}return this},o.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var i=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];o.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(t,e);if(!0===n)return!0;if(!1===n)return!1}catch(t){console.error(t)}if(e&&e.status&&e.status>=500&&501!=e.status)return!0;if(t){if(t.code&&~i.indexOf(t.code))return!0;if(t.timeout&&"ECONNABORTED"==t.code)return!0;if(t.crossDomain)return!0}return!1},o.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},o.prototype.then=function(t,e){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(t,e){n.end(function(n,r){n?e(n):t(r)})})}return this._fullfilledPromise.then(t,e)},o.prototype.catch=function(t){return this.then(void 0,t)},o.prototype.use=function(t){return t(this),this},o.prototype.ok=function(t){if("function"!=typeof t)throw Error("Callback required");return this._okCallback=t,this},o.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},o.prototype.get=function(t){return this._header[t.toLowerCase()]},o.prototype.getHeader=o.prototype.get,o.prototype.set=function(t,e){if(r(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},o.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},o.prototype.field=function(t,e){if(null==t)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),r(t)){for(var n in t)this.field(n,t[n]);return this}if(Array.isArray(e)){for(var o in e)this.field(t,e[o]);return this}if(null==e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=""+e),this._getFormData().append(t,e),this},o.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},o.prototype._auth=function(t,e,n,r){switch(n.type){case"basic":this.set("Authorization","Basic "+r(t+":"+e));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer "+t)}return this},o.prototype.withCredentials=function(t){return null==t&&(t=!0),this._withCredentials=t,this},o.prototype.redirects=function(t){return this._maxRedirects=t,this},o.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw TypeError("Invalid argument");return this._maxResponseSize=t,this},o.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},o.prototype.send=function(t){var e=r(t),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(e&&r(this._data))for(var o in t)this._data[o]=t[o];else"string"==typeof t?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||this._isHost(t)?this:(n||this.type("json"),this)},o.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},o.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var n=this.url.substring(e+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,e)+"?"+n.join("&")}}},o.prototype._appendQueryString=function(){console.trace("Unsupported")},o.prototype._timeoutError=function(t,e,n){if(!this._aborted){var r=new Error(t+e+"ms exceeded");r.timeout=e,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.abort(),this.callback(r)}},o.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(t,e,n){"use strict";var r=n(35);function o(t){if(t)return function(t){for(var e in o.prototype)t[e]=o.prototype[e];return t}(t)}t.exports=o,o.prototype.get=function(t){return this.header[t.toLowerCase()]},o.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=r.type(e);var n=r.params(e);for(var o in n)this[o]=n[o];this.links={};try{t.link&&(this.links=r.parseLinks(t.link))}catch(t){}},o.prototype._setStatusProperties=function(t){var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.redirect=3==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.created=201==t,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.forbidden=403==t,this.notFound=404==t,this.unprocessableEntity=422==t}},function(t,e,n){"use strict";e.type=function(t){return t.split(/ *; */).shift()},e.params=function(t){return t.split(/ *; */).reduce(function(t,e){var n=e.split(/ *= */),r=n.shift(),o=n.shift();return r&&o&&(t[r]=o),t},{})},e.parseLinks=function(t){return t.split(/ *, */).reduce(function(t,e){var n=e.split(/ *; */),r=n[0].slice(1,-1);return t[n[1].split(/ *= */)[1].slice(1,-1)]=r,t},{})},e.cleanHeader=function(t,e){return delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&(delete t.authorization,delete t.cookie),t}},function(t,e){function n(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(t){n.prototype[t]=function(){return this._defaults.push({fn:t,arguments:arguments}),this}}),n.prototype._setDefaults=function(t){this._defaults.forEach(function(e){t[e.fn].apply(t,e.arguments)})},t.exports=n},function(t,e,n){t.exports=function(t){for(var e=[],n={},r={},o=0;o<256;o+=1){for(var i=String.fromCharCode(o),a=o.toString(16).toUpperCase();a.length<2;)a="0"+a;r[a]=i,i!==encodeURIComponent(i)&&(n[a]=!0,o<128&&"/"!==i&&"%"!==i&&"="!==i&&e.push(o))}var s=new RegExp("["+e.map(function(t){var e=t.toString("16");return"\\x"+(e.length<2?"0":"")+e}).join("")+"]","g");function u(t,e){return t.replace(/%([0-9a-f]{2})/gi,function(t,e){var o=e.toUpperCase();return n[o]?"%"+o:r[o]}).replace(s,e?function(t){return e[t]?t:encodeURIComponent(t)}:encodeURIComponent)}function c(t,e){if(t=t||"","protocol"===e)t=t.toLowerCase();else if("string"==typeof t)if(e&&"path"!==e&&"pathname"!==e)"hash"===e||"search"===e?t.length>0&&(t=t[0]+u(t.substr(1),{"?":!0,"#":"hash"===e})):t="host"===e?u(t,{":":!0}):"auth"===e?u(t,{":":!0,"@":!0}):u(t);else{var n,r=t.match(/^(\/\/[^\/]+)(\/.*)?$/);r&&(t=r[2]||""),t=(t=u(t)).replace(/\/\.(\/|$)/g,"$1");do{n=0,t=t.replace(/\/[^\/]+\/\.\.(\/|$)/g,function(t,e){return n+=1,e})}while(n>0);r&&(t=r[1]+t),t=t||"/"}return t}return function(e){var n,r=e&&"object"==typeof e;if(r)n=function(t){for(var e=1;e<arguments.length;e+=1){var n=arguments[e];if(n)for(var r in n)t[r]=n[r]}return t}({},e);else{if(!t||!t.parse){if(/^[\w\+]+:|^\/\//.test(e))throw new Error("Cannot normalize absolute and protocol-relative urls passed as a string without the node.js url module");var o=e.match(/^([^?#]*)(\?[^#]*)?(#(.*))?$/);return c(o[1],"pathname")+c(o[2],"search")+c(o[3],"hash")}n=t.parse(e)}return delete n.href,delete n.path,Object.keys(n).forEach(function(t){n[t]=c(n[t],t)}),r?(t&&(n.href=t.format(n),(n.pathname||n.search)&&(n.path=(n.pathname||"")+(n.search||""))),n):t.format(n)}}(n(38))},function(t,e,n){"use strict";var r=n(39),o=n(41);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){o.isString(t)&&(t=b(t));return t instanceof i?t.format():i.prototype.format.call(t)},e.Url=i;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),h=["%","/","?",";","#"].concat(l),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=n(42);function b(t,e,n){if(t&&o.isObject(t)&&t instanceof i)return t;var r=new i;return r.parse(t,e,n),r}i.prototype.parse=function(t,e,n){if(!o.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),s=-1!==i&&i<t.indexOf("#")?"?":"#",c=t.split(s);c[0]=c[0].replace(/\\/g,"/");var b=t=c.join(s);if(b=b.trim(),!n&&1===t.split("#").length){var E=u.exec(b);if(E)return this.path=b,this.href=b,this.pathname=E[1],E[2]?(this.search=E[2],this.query=e?g.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var _=a.exec(b);if(_){var T=(_=_[0]).toLowerCase();this.protocol=T,b=b.substr(_.length)}if(n||_||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===b.substr(0,2);!w||_&&m[_]||(b=b.substr(2),this.slashes=!0)}if(!m[_]&&(w||_&&!v[_])){for(var S,O,C=-1,R=0;R<f.length;R++){-1!==(k=b.indexOf(f[R]))&&(-1===C||k<C)&&(C=k)}-1!==(O=-1===C?b.lastIndexOf("@"):b.lastIndexOf("@",C))&&(S=b.slice(0,O),b=b.slice(O+1),this.auth=decodeURIComponent(S)),C=-1;for(R=0;R<h.length;R++){var k;-1!==(k=b.indexOf(h[R]))&&(-1===C||k<C)&&(C=k)}-1===C&&(C=b.length),this.host=b.slice(0,C),b=b.slice(C),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var I=this.hostname.split(/\./),P=(R=0,I.length);R<P;R++){var N=I[R];if(N&&!N.match(p)){for(var x="",j=0,L=N.length;j<L;j++)N.charCodeAt(j)>127?x+="x":x+=N[j];if(!x.match(p)){var D=I.slice(0,R),U=I.slice(R+1),M=N.match(d);M&&(D.push(M[1]),U.unshift(M[2])),U.length&&(b="/"+U.join(".")+b),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=r.toASCII(this.hostname));var F=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+F,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!y[T])for(R=0,P=l.length;R<P;R++){var q=l[R];if(-1!==b.indexOf(q)){var W=encodeURIComponent(q);W===q&&(W=escape(q)),b=b.split(q).join(W)}}var z=b.indexOf("#");-1!==z&&(this.hash=b.substr(z),b=b.slice(0,z));var B=b.indexOf("?");if(-1!==B?(this.search=b.substr(B),this.query=b.substr(B+1),e&&(this.query=g.parse(this.query)),b=b.slice(0,B)):e&&(this.search="",this.query={}),b&&(this.pathname=b),v[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var V=this.search||"";this.path=F+V}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=g.stringify(this.query));var s=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||v[e])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+i+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+r},i.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if(o.isString(t)){var e=new i;e.parse(t,!1,!0),t=e}for(var n=new i,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=t[l])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!v[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var p=h[f];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||m[t.protocol])n.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var y=n.pathname||"",g=n.search||"";n.path=y+g}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),E=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=E||b||n.host&&t.pathname,T=_,w=n.pathname&&n.pathname.split("/")||[],S=(d=t.pathname&&t.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),_=_&&(""===d[0]||""===w[0])),E)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,w=d;else if(d.length)w||(w=[]),w.pop(),w=w.concat(d),n.search=t.search,n.query=t.query;else if(!o.isNullOrUndefined(t.search)){if(S)n.hostname=n.host=w.shift(),(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift());return n.search=t.search,n.query=t.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var O=w.slice(-1)[0],C=(n.host||t.host||w.length>1)&&("."===O||".."===O)||""===O,R=0,k=w.length;k>=0;k--)"."===(O=w[k])?w.splice(k,1):".."===O?(w.splice(k,1),R++):R&&(w.splice(k,1),R--);if(!_&&!T)for(;R--;R)w.unshift("..");!_||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),C&&"/"!==w.join("/").substr(-1)&&w.push("");var A,I=""===w[0]||w[0]&&"/"===w[0].charAt(0);S&&(n.hostname=n.host=I?"":w.length?w.shift():"",(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift()));return(_=_||n.host&&w.length)&&!I&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){(function(t,r){var o;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(i){e&&e.nodeType,t&&t.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,c=36,l=1,h=26,f=38,p=700,d=72,y=128,m="-",v=/^xn--/,g=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=c-l,T=Math.floor,w=String.fromCharCode;function S(t){throw new RangeError(E[t])}function O(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function C(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+O((t=t.replace(b,".")).split("."),e).join(".")}function R(t){for(var e,n,r=[],o=0,i=t.length;o<i;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i?56320==(64512&(n=t.charCodeAt(o++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--):r.push(e);return r}function k(t){return O(t,function(t){var e="";return t>65535&&(e+=w((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=w(t)}).join("")}function A(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function I(t,e,n){var r=0;for(t=n?T(t/p):t>>1,t+=T(t/e);t>_*h>>1;r+=c)t=T(t/_);return T(r+(_+1)*t/(t+f))}function P(t){var e,n,r,o,i,a,s,f,p,v,g,b=[],E=t.length,_=0,w=y,O=d;for((n=t.lastIndexOf(m))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&S("not-basic"),b.push(t.charCodeAt(r));for(o=n>0?n+1:0;o<E;){for(i=_,a=1,s=c;o>=E&&S("invalid-input"),((f=(g=t.charCodeAt(o++))-48<10?g-22:g-65<26?g-65:g-97<26?g-97:c)>=c||f>T((u-_)/a))&&S("overflow"),_+=f*a,!(f<(p=s<=O?l:s>=O+h?h:s-O));s+=c)a>T(u/(v=c-p))&&S("overflow"),a*=v;O=I(_-i,e=b.length+1,0==i),T(_/e)>u-w&&S("overflow"),w+=T(_/e),_%=e,b.splice(_++,0,w)}return k(b)}function N(t){var e,n,r,o,i,a,s,f,p,v,g,b,E,_,O,C=[];for(b=(t=R(t)).length,e=y,n=0,i=d,a=0;a<b;++a)(g=t[a])<128&&C.push(w(g));for(r=o=C.length,o&&C.push(m);r<b;){for(s=u,a=0;a<b;++a)(g=t[a])>=e&&g<s&&(s=g);for(s-e>T((u-n)/(E=r+1))&&S("overflow"),n+=(s-e)*E,e=s,a=0;a<b;++a)if((g=t[a])<e&&++n>u&&S("overflow"),g==e){for(f=n,p=c;!(f<(v=p<=i?l:p>=i+h?h:p-i));p+=c)O=f-v,_=c-v,C.push(w(A(v+O%_,0))),f=T(O/_);C.push(w(A(f,0))),i=I(n,E,r==o),n=0,++r}++n,++e}return C.join("")}s={version:"1.4.1",ucs2:{decode:R,encode:k},decode:P,encode:N,toASCII:function(t){return C(t,function(t){return g.test(t)?"xn--"+N(t):t})},toUnicode:function(t){return C(t,function(t){return v.test(t)?P(t.slice(4).toLowerCase()):t})}},void 0===(o=function(){return s}.call(e,n,e,t))||(t.exports=o)}()}).call(this,n(40)(t),n(7))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){"use strict";e.decode=e.parse=n(43),e.encode=e.stringify=n(44)},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,i){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var h,f,p,d,y=t[l].replace(s,"%20"),m=y.indexOf(n);m>=0?(h=y.substr(0,m),f=y.substr(m+1)):(h=y,f=""),p=decodeURIComponent(h),d=decodeURIComponent(f),r(a,p)?o(a[p])?a[p].push(d):a[p]=[a[p],d]:a[p]=d}return a};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?i(a(t),function(a){var s=encodeURIComponent(r(a))+n;return o(t[a])?i(t[a],function(t){return s+encodeURIComponent(r(t))}).join(e):s+encodeURIComponent(r(t[a]))}).join(e):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){(function(){var e,r,o,i={}.hasOwnProperty,a=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},s=[].slice;e=n(10),r=n(17),o=n(9),t.exports=function(t){function n(t,e){if(this._name=t,this._client=e,n.__super__.constructor.apply(this,arguments),this._links={},this._resourcesCache={},!this._name||null==this._client)throw new Error('Don\'t call the Type constructor directly, use `client.type("things");`')}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,e),n.prototype.Resource=r,n.prototype._name="",n.prototype._client=null,n.prototype._links=null,n.prototype._resourcesCache=null,n.prototype.create=function(t,e,n){var r,i,s,u,c;if(null==t&&(t={}),null==e&&(e={}),null==n&&(n={}),t.type&&t.type!==this._name)return(i=this._client.type(t.type)).create.apply(i,arguments);if(u=null!=(s=this._resourcesCache[t.id])?s:new this.Resource(this),o(u._headers,e),o(u._meta,n),null!=t.id){for(r in t)c=t[r],a.call(u._changedKeys,r)<0&&!(r in u._savingKeys)&&(u[r]=c);this._resourcesCache[u.id]=u,u.emit("change")}else u.update(t);return u},n.prototype.get=function(){return new r.Promise("string"==typeof arguments[0]?this._getByID.apply(this,arguments):Array.isArray(arguments[0])?this._getByIDs.apply(this,arguments):this._getByQuery.apply(this,arguments))},n.prototype._getByID=function(){var t,e;return t=arguments[0],e=2<=arguments.length?s.call(arguments,1):[],this._getByIDs.apply(this,[[t]].concat(s.call(e))).then(function(t){return t[0]})},n.prototype._getByIDs=function(){var t,e,n,r;return e=arguments[0],n=2<=arguments.length?s.call(arguments,1):[],r=function(){var r,o,i,a;for(a=[],r=0,o=e.length;r<o;r++)(t=e[r])in this._resourcesCache&&(0===n.length||null==n[0])?a.push(Promise.resolve(this._resourcesCache[t])):a.push((i=this._client).get.apply(i,[this._getURL(t)].concat(s.call(n))).then(function(t){return t[0]}));return a}.call(this),Promise.all(r)},n.prototype._getByQuery=function(){var t,e,n;return e=arguments[0],t=2<=arguments.length?s.call(arguments,1):[],(n=this._client).get.apply(n,[this._getURL(),e].concat(s.call(t)))},n.prototype._getURL=function(){return["",this._name].concat(s.call(arguments)).join("/")},n}()}).call(this)},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&p())}function p(){if(!l){var t=s(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){var r=n(8),o=n(11),i=new r(o.host+"/api",{"Content-Type":"application/json",Accept:"application/vnd.api+json; version=1"},{params:o.params,beforeEveryRequest:function(){return n(19).checkBearerToken()},handleError:function(t){var e;if(t instanceof Error)throw t;t.body&&"object"==typeof t.body?t.body.error?(e=t.body.error,t.body.error_description&&(e+=" "+t.error_description)):e=Array.isArray(t.body.errors)?t.body.errors.map(function(t){return"string"==typeof t.message?t.message:"object"==typeof t.message?Object.keys(t.message).map(function(e){return e+" "+t.message[e]}).join("\n"):void 0}).join("\n"):"Unknown error (bad response body)":e="Unknown error (bad response)";var n=new Error(e);throw n.status=t.status,n.statusText=t.statusText,n}});t.exports=i},function(t,e,n){var r=e;r.utils=n(2),r.common=n(6),r.sha=n(50),r.ripemd=n(54),r.hmac=n(55),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";e.sha1=n(51),e.sha224=n(52),e.sha256=n(21),e.sha384=n(53),e.sha512=n(22)},function(t,e,n){"use strict";var r=n(2),o=n(6),i=n(20),a=r.rotl32,s=r.sum32,u=r.sum32_5,c=i.ft_1,l=o.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(f,l),t.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(t,e){for(var n=this.W,r=0;r<16;r++)n[r]=t[e+r];for(;r<n.length;r++)n[r]=a(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var o=this.h[0],i=this.h[1],l=this.h[2],f=this.h[3],p=this.h[4];for(r=0;r<n.length;r++){var d=~~(r/20),y=u(a(o,5),c(d,i,l,f),p,n[r],h[d]);p=f,f=l,l=a(i,30),i=o,o=y}this.h[0]=s(this.h[0],o),this.h[1]=s(this.h[1],i),this.h[2]=s(this.h[2],l),this.h[3]=s(this.h[3],f),this.h[4]=s(this.h[4],p)},f.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(t,e,n){"use strict";var r=n(2),o=n(21);function i(){if(!(this instanceof i))return new i;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(i,o),t.exports=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},function(t,e,n){"use strict";var r=n(2),o=n(22);function i(){if(!(this instanceof i))return new i;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(i,o),t.exports=i,i.blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},function(t,e,n){"use strict";var r=n(2),o=n(6),i=r.rotl32,a=r.sum32,s=r.sum32_3,u=r.sum32_4,c=o.BlockHash;function l(){if(!(this instanceof l))return new l;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(t,e,n,r){return t<=15?e^n^r:t<=31?e&n|~e&r:t<=47?(e|~n)^r:t<=63?e&r|n&~r:e^(n|~r)}function f(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function p(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}r.inherits(l,c),e.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(t,e){for(var n=this.h[0],r=this.h[1],o=this.h[2],c=this.h[3],l=this.h[4],g=n,b=r,E=o,_=c,T=l,w=0;w<80;w++){var S=a(i(u(n,h(w,r,o,c),t[d[w]+e],f(w)),m[w]),l);n=l,l=c,c=i(o,10),o=r,r=S,S=a(i(u(g,h(79-w,b,E,_),t[y[w]+e],p(w)),v[w]),T),g=T,T=_,_=i(E,10),E=b,b=S}S=s(this.h[1],o,_),this.h[1]=s(this.h[2],c,T),this.h[2]=s(this.h[3],l,g),this.h[3]=s(this.h[4],n,b),this.h[4]=s(this.h[0],r,E),this.h[0]=S},l.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(t,e,n){"use strict";var r=n(2),o=n(5);function i(t,e,n){if(!(this instanceof i))return new i(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(e,n))}t.exports=i,i.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),o(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},i.prototype.update=function(t,e){return this.inner.update(t,e),this},i.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(23),a=n.n(i);function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var u=n(1),c=n.n(u),l=o.a.createContext(null),h=function(t){function e(e){var n;n=t.call(this,e)||this;var r=e.store;return n.state={storeState:r.getState(),store:r},n}s(e,t);var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this.subscribe()},n.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this._isMounted=!1},n.componentDidUpdate=function(t){this.props.store!==t.store&&(this.unsubscribe&&this.unsubscribe(),this.subscribe())},n.subscribe=function(){var t=this,e=this.props.store;this.unsubscribe=e.subscribe(function(){var n=e.getState();t._isMounted&&t.setState(function(t){return t.storeState===n?null:{storeState:n}})});var n=e.getState();n!==this.state.storeState&&this.setState({storeState:n})},n.render=function(){var t=this.props.context||l;return o.a.createElement(t.Provider,{value:this.state},this.props.children)},e}(r.Component);h.propTypes={store:c.a.shape({subscribe:c.a.func.isRequired,dispatch:c.a.func.isRequired,getState:c.a.func.isRequired}),context:c.a.object,children:c.a.any};var f=h;function p(){return(p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function d(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}var y=n(13),m=n.n(y),v=n(4),g=n.n(v),b=n(12);function E(t,e){void 0===e&&(e={});var n=e,i=n.getDisplayName,a=void 0===i?function(t){return"ConnectAdvanced("+t+")"}:i,u=n.methodName,c=void 0===u?"connectAdvanced":u,h=n.renderCountProp,f=void 0===h?void 0:h,y=n.shouldHandleStateChanges,v=void 0===y||y,E=n.storeKey,_=void 0===E?"store":E,T=n.withRef,w=void 0!==T&&T,S=n.forwardRef,O=void 0!==S&&S,C=n.context,R=void 0===C?l:C,k=d(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);g()(void 0===f,"renderCountProp is removed. render counting is built into the latest React dev tools profiling extension"),g()(!w,"withRef is removed. To access the wrapped instance, use a ref on the connected component");var A="To use a custom Redux store for specific components,  create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like:  <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect";g()("store"===_,"storeKey has been removed and does not do anything. "+A);var I=R;return function(e){var n=e.displayName||e.name||"Component",i=a(n),u=p({},k,{getDisplayName:a,methodName:c,renderCountProp:f,shouldHandleStateChanges:v,storeKey:_,displayName:i,wrappedComponentName:n,WrappedComponent:e}),l=k.pure,h=r.Component;l&&(h=r.PureComponent);var d=function(n){function r(e){var r,i,a,s,u,c,h,f,d,y,m;return r=n.call(this,e)||this,g()(O?!e.wrapperProps[_]:!e[_],"Passing redux store in props has been removed and does not do anything. "+A),r.selectDerivedProps=function(e,n,r,o){if(l&&i===n&&a===e)return s;r===u&&c===o||(u=r,c=o,h=t(r.dispatch,o)),i=n,a=e;var f=h(e,n);return s=f},r.selectChildElement=function(t,e,n){return e===f&&n===d&&m===t||(f=e,d=n,m=t,y=o.a.createElement(t,p({},e,{ref:n}))),y},r.indirectRenderWrappedComponent=r.indirectRenderWrappedComponent.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r)),r}s(r,n);var a=r.prototype;return a.indirectRenderWrappedComponent=function(t){return this.renderWrappedComponent(t)},a.renderWrappedComponent=function(t){g()(t,'Could not find "store" in the context of "'+i+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+i+" in connect options.");var n,r=t.storeState,o=t.store,a=this.props;O&&(a=this.props.wrapperProps,n=this.props.forwardedRef);var s=this.selectDerivedProps(r,a,o,u);return this.selectChildElement(e,s,n)},a.render=function(){var t=this.props.context&&this.props.context.Consumer&&Object(b.isContextConsumer)(o.a.createElement(this.props.context.Consumer,null))?this.props.context:I;return o.a.createElement(t.Consumer,null,this.indirectRenderWrappedComponent)},r}(h);if(d.WrappedComponent=e,d.displayName=i,O){var y=o.a.forwardRef(function(t,e){return o.a.createElement(d,{wrapperProps:t,forwardedRef:e})});return y.displayName=i,y.WrappedComponent=e,m()(y,e)}return m()(d,e)}}var _=Object.prototype.hasOwnProperty;function T(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function w(t,e){if(T(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!_.call(e,n[o])||!T(t[n[o]],e[n[o]]))return!1;return!0}var S=n(14),O=function(){return Math.random().toString(36).substring(7).split("").join(".")},C={INIT:"@@redux/INIT"+O(),REPLACE:"@@redux/REPLACE"+O(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+O()}};function R(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function k(t,e,n){var r;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function");if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(k)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var o=t,i=e,a=[],s=a,u=!1;function c(){s===a&&(s=a.slice())}function l(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function h(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var e=!0;return c(),s.push(t),function(){if(e){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");e=!1,c();var n=s.indexOf(t);s.splice(n,1)}}}function f(t){if(!R(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,i=o(i,t)}finally{u=!1}for(var e=a=s,n=0;n<e.length;n++){(0,e[n])()}return t}return f({type:C.INIT}),(r={dispatch:f,subscribe:h,getState:l,replaceReducer:function(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");o=t,f({type:C.REPLACE})}})[S.a]=function(){var t,e=h;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(l())}return n(),{unsubscribe:e(n)}}})[S.a]=function(){return this},t},r}function A(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function I(t,e){return function(){return e(t.apply(this,arguments))}}function P(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=e.map(function(t){return t(o)});return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){P(t,e,n[e])})}return t}({},n,{dispatch:r=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}.apply(void 0,i)(n.dispatch)})}}}function x(t){return function(e,n){var r=t(e,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function j(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function L(t,e){return function(e,n){n.displayName;var r=function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)};return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=j(t);var o=r(e,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=j(o),o=r(e,n)),o},r}}var D=[function(t){return"function"==typeof t?L(t):void 0},function(t){return t?void 0:x(function(t){return{dispatch:t}})},function(t){return t&&"object"==typeof t?x(function(e){return function(t,e){if("function"==typeof t)return I(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),r={},o=0;o<n.length;o++){var i=n[o],a=t[i];"function"==typeof a&&(r[i]=I(a,e))}return r}(t,e)}):void 0}];var U=[function(t){return"function"==typeof t?L(t):void 0},function(t){return t?void 0:x(function(){return{}})}];function M(t,e,n){return p({},n,t,e)}var F=[function(t){return"function"==typeof t?function(t){return function(e,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(e,n,s){var u=t(e,n,s);return a?o&&i(u,r)||(r=u):(a=!0,r=u),r}}}(t):void 0},function(t){return t?void 0:function(){return M}}];function H(t,e,n,r){return function(o,i){return n(t(o,i),e(r,i),i)}}function q(t,e,n,r,o){var i,a,s,u,c,l=o.areStatesEqual,h=o.areOwnPropsEqual,f=o.areStatePropsEqual,p=!1;function d(o,p){var d,y,m=!h(p,a),v=!l(o,i);return i=o,a=p,m&&v?(s=t(i,a),e.dependsOnOwnProps&&(u=e(r,a)),c=n(s,u,a)):m?(t.dependsOnOwnProps&&(s=t(i,a)),e.dependsOnOwnProps&&(u=e(r,a)),c=n(s,u,a)):v?(d=t(i,a),y=!f(d,s),s=d,y&&(c=n(s,u,a)),c):c}return function(o,l){return p?d(o,l):(s=t(i=o,a=l),u=e(r,a),c=n(s,u,a),p=!0,c)}}function W(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,o=e.initMergeProps,i=d(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(t,i),s=r(t,i),u=o(t,i);return(i.pure?q:H)(a,s,u,t,i)}function z(t,e,n){for(var r=e.length-1;r>=0;r--){var o=e[r](t);if(o)return o}return function(e,r){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function B(t,e){return t===e}var V,K,G,$,J,Y,Z,X,Q,tt,et,nt,rt=(G=(K=void 0===V?{}:V).connectHOC,$=void 0===G?E:G,J=K.mapStateToPropsFactories,Y=void 0===J?U:J,Z=K.mapDispatchToPropsFactories,X=void 0===Z?D:Z,Q=K.mergePropsFactories,tt=void 0===Q?F:Q,et=K.selectorFactory,nt=void 0===et?W:et,function(t,e,n,r){void 0===r&&(r={});var o=r,i=o.pure,a=void 0===i||i,s=o.areStatesEqual,u=void 0===s?B:s,c=o.areOwnPropsEqual,l=void 0===c?w:c,h=o.areStatePropsEqual,f=void 0===h?w:h,y=o.areMergedPropsEqual,m=void 0===y?w:y,v=d(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),g=z(t,Y,"mapStateToProps"),b=z(e,X,"mapDispatchToProps"),E=z(n,tt,"mergeProps");return $(nt,p({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:g,initMapDispatchToProps:b,initMergeProps:E,pure:a,areStatesEqual:u,areOwnPropsEqual:l,areStatePropsEqual:f,areMergedPropsEqual:m},v))});function ot(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(o){return"function"==typeof o?o(n,r,t):e(o)}}}}var it=ot();it.withExtraArgument=ot;var at=it;n(29);function st(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ut(t){var e=document.querySelector("[tabIndex='"+t+"']");e&&!e.disabled&&e.focus()}function ct(t){t.select(),t.setSelectionRange(0,t.value.length,"backward")}function lt(t){var e=t.reduce(function(t,e){var n=st(e,2),r=n[0];return n[1]&&t.push(r),t},[]);return 0===e.length?null:e.join(" ")}function ht(){for(var t=arguments[0],e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function ft(t,e){e.hasOwnProperty(t)?e[t]():e.hasOwnProperty("default")&&e.default()}function pt(t,e){var n=t+"/",r={};for(var o in e)r[o]=n+e[o];return r}function dt(){return new Date}var yt=n(3),mt=n.n(yt),vt=function(t){var e;"undefined"!=typeof location&&null!==location&&(e=location.search.match(t));return e&&e[1]?e[1]:void 0}(/\W?env=(\w+)/)||"production";if(!vt.match(/^(production|staging|development)$/))throw new Error("Error: Invalid Environment - ".concat(vt));var gt={development:{zooniverseLinks:{host:"https://master.pfe-preview.zooniverse.org/",projectId:"7859",projectSlug:"edh/weather-rescue",projectLinkBase:"https://www.zooniverse.org/projects/edh/weather-rescue"}},production:{zooniverseLinks:{host:"https://www.zooniverse.org/",projectId:"7859",projectSlug:"edh/weather-rescue",projectLinkBase:"https://www.zooniverse.org/projects/edh/weather-rescue"}}};gt.staging=gt.development;var bt=gt[vt];var Et=pt("project",{FETCH_PROJECT:"FETCH_PROJECT",FETCH_PROJECT_SUCCESS:"FETCH_PROJECT_SUCCESS",FETCH_PROJECT_ERROR:"FETCH_PROJECT_ERROR"}),_t={IDLE:"IDLE",FETCHING:"FETCHING",READY:"READY",ERROR:"ERROR"};function Tt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt.zooniverseLinks.projectId;return function(e){return e({type:Et.FETCH_PROJECT,id:t}),mt.a.type("projects").get(t).then(function(t){return e((n=t,{type:Et.FETCH_PROJECT_SUCCESS,data:n}));var n}).catch(function(t){return e(function(t){return{type:Et.FETCH_PROJECT_ERROR,error:t}}(t))})}}var wt={status:_t.IDLE,id:"",data:null,error:null};var St=pt("workflow",{FETCH_WORKFLOW:"FETCH_WORKFLOW",FETCH_WORKFLOW_SUCCESS:"FETCH_WORKFLOW_SUCCESS",FETCH_WORKFLOW_ERROR:"FETCH_WORKFLOW_ERROR",SET_WORKFLOW:"SET_WORKFLOW",FETCH_ACTIVE_WORKFLOWS:"FETCH_ACTIVE_WORKFLOWS",FETCH_ACTIVE_WORKFLOWS_SUCCESS:"FETCH_ACTIVE_WORKFLOWS_SUCCESS",FETCH_ACTIVE_WORKFLOWS_ERROR:"FETCH_ACTIVE_WORKFLOWS_ERROR"}),Ot={IDLE:"IDLE",FETCHING:"FETCHING",ACTIVE_WORKFLOWS_READY:"ACTIVE_WORKFLOWS_READY",ACTIVE_WORKFLOWS_EMPTY:"ACTIVE_WORKFLOWS_EMPTY",WORKFLOW_READY:"WORKFLOW_READY",ERROR:"ERROR"};function Ct(t){return{type:St.SET_WORKFLOW,id:t}}function Rt(){return function(t,e){var n=e().workflow.currentId;return t({type:St.FETCH_WORKFLOW}),mt.a.type("workflows").get(n,{http_cache:!1}).then(function(e){return t((n=e,{type:St.FETCH_WORKFLOW_SUCCESS,data:n}));var n}).catch(function(e){return t(function(t){return{type:St.FETCH_WORKFLOW_ERROR,error:t}}(e))})}}function kt(){return function(t,e){var n=e().project.id;return t({type:St.FETCH_ACTIVE_WORKFLOWS}),mt.a.type("workflows").get({project_id:n,active:!0,fields:"display_name"}).then(function(e){return t((n=e,{type:St.FETCH_ACTIVE_WORKFLOWS_SUCCESS,data:n}));var n}).catch(function(e){return t(function(t){return{type:St.FETCH_ACTIVE_WORKFLOWS_ERROR,error:t}}(e))})}}var At={status:Ot.IDLE,currentId:"",currentWorkflow:null,activeWorkflows:[],error:null};var It=pt("subject",{FETCH_SUBJECT_QUEUE:"FETCH_SUBJECT_QUEUE",FETCH_SUBJECT_QUEUE_SUCCESS:"FETCH_SUBJECT_QUEUE_SUCCESS",FETCH_SUBJECT_QUEUE_ERROR:"FETCH_SUBJECT_QUEUE_ERROR",SET_SUBJECT_SET:"SET_SUBJECT_SET",NEXT_SUBJECT:"NEXT_SUBJECT",RESET:"RESET_SUBJECT"}),Pt={IDLE:"IDLE",FETCHING:"FETCHING",READY:"READY",ERROR:"ERROR"};function Nt(t){return{type:It.SET_SUBJECT_SET,id:t}}function xt(){return{type:It.NEXT_SUBJECT}}var jt={currentSubject:null,subjectSet:"",status:Pt.IDLE,queue:[],error:null};var Lt=pt("image",{FETCH_IMAGE:"FETCH_IMAGE",FETCH_IMAGE_SUCCESS:"FETCH_IMAGE_SUCCESS",FETCH_IMAGE_ERROR:"FETCH_IMAGE_ERROR",SET_IMAGE_METADATA:"SET_IMAGE_METADATA",RESET_IMAGE:"RESET_IMAGE"}),Dt={IDLE:"IDLE",FETCHING:"FETCHING",READY:"READY",ERROR:"ERROR"};var Ut={status:Dt.IDLE,src:null,img:null,error:null,imageMetadata:null};function Mt(t){try{sessionStorage.setItem("session_id",JSON.stringify(t))}catch(t){console.error(t)}}function Ft(){var t={id:n(48).sha256().update(""+1e4*Math.random()+Date.now()+1e3*Math.random()).digest("hex"),ttl:Ht()};return Mt(t),t}function Ht(){var t=new Date;return t.setMinutes(t.getMinutes()+5),t}var qt=pt("classification",{START_CLASSIFICATION:"START_CLASSIFICATION",SUBMIT_CLASSIFICATION:"SUBMIT_CLASSIFICATION",SUBMIT_CLASSIFICATION_SUCCESS:"SUBMIT_CLASSIFICATION_SUCCESS",SUBMIT_CLASSIFICATION_ERROR:"SUBMIT_CLASSIFICATION_ERROR",COMPLETE_CLASSIFICATION:"COMPLETE_CLASSIFICATION"}),Wt={IDLE:"IDLE",SENDING:"SENDING",SUCCESS:"SUCCESS",ERROR:"ERROR"};var zt={currentClassification:null,status:Wt.IDLE,error:null};var Bt=pt("task",{SET_LOCATION_TITLE:"SET_LOCATION_TITLE",BEGIN_UPDATE_VALUE:"BEGIN_UPDATE_VALUE",UPDATE_VALUE:"UPDATE_VALUE",END_UPDATE_VALUE:"END_UPDATE_VALUE",NEXT_STEP:"NEXT_STEP",PREVIOUS_STEP:"PREVIOUS_STEP",NEXT_SUBJECT:"NEXT_SUBJECT",RESET:"RESET"}),Vt={INIT:"INIT",TRANSCRIBE:"TRANSCRIBE",SUMMARY:"SUMMARY"};function Kt(){return{type:Bt.NEXT_STEP}}var Gt,$t={TEMPERATURE:"TEMPERATURE",PRESSURE:"PRESSURE",RAINFALL:"RAINFALL"};function Jt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yt(t){return new RegExp("^\\??"+t.join("")+"$")}function Zt(t){return t.reduce(function(t,e){return t.concat(function(t){return t.reduce(function(t,e,n){return t.push(t[n]+e),t},["^\\??"]).map(function(t){return new RegExp(t+"$")})}(e))},[])}function Xt(t){return t?[]:["Does not match expected pattern"]}var Qt=[/^\\??$/],te=[/^$/];function ee(t){var e=Zt(t).concat(Qt),n=function(t){return t.map(Yt)}(t).concat(te);return{partial:function(t){return function(t,e){return Xt(t.some(function(t){return t.test(e)}))}(e,t)},full:function(t){return function(t,e){return Xt(t.some(function(t){return t.test(e)}))}(n,t)}}}var ne,re=(Jt(Gt={},$t.PRESSURE,ee([["2","(7|8|9)","\\.","\\d","\\d"],["3","(0|1)","\\.","\\d","\\d"]])),Jt(Gt,$t.TEMPERATURE,ee([["0"],["-?","[1-9]","\\d*"]])),Jt(Gt,$t.RAINFALL,ee([["0"],["-"],["0","\\.","\\d","\\d"],["[1-9]","\\d*","\\.","\\d","\\d"]])),Gt);function oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ie(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(t,e){return t.reduce(function(t,e){return e(t)},e)}(e,t)}}var ae,se,ue=[(ae="+",se="?",function(t){return t===ae?se:t})],ce=(oe(ne={},$t.PRESSURE,ie.apply(void 0,[function(t){var e=/^(\??0)(\d)$/,n=/^(\??\d\d)(\d)$/;if(e.test(t)){var r=t.match(e);return r[1]+"."+r[2]}if(/^(\??0)\.(\d\d\d)$/.test(t))return t;if(n.test(t)){var o=t.match(n);return o[1]+"."+o[2]}return t}].concat(ue))),oe(ne,$t.TEMPERATURE,ie.apply(void 0,ue)),oe(ne,$t.RAINFALL,ie.apply(void 0,[function(t){var e=/^(\??0)(\d)$/,n=/^(\??\d)(\d)$/,r=/^(\??\d+)\.(\d)(\d\d)$/;if(e.test(t)){var o=t.match(e);return o[1]+"."+o[2]}if(/^(\??0)\.(\d\d\d)$/.test(t))return t;if(n.test(t)){var i=t.match(n);return i[1]+"."+i[2]}if(r.test(t)){var a=t.match(r);return a[1]+a[2]+"."+a[3]}return t}].concat(ue))),ne);function le(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function he(t){return{type:t,value:"",focused:!1,partialErrors:[],fullErrors:[]}}function fe(){return{status:Vt.INIT,locationTitle:"",pressure:he($t.PRESSURE),dryTemperature:he($t.TEMPERATURE),wetTemperature:he($t.TEMPERATURE),maxTemperature:he($t.TEMPERATURE),minTemperature:he($t.TEMPERATURE),rainfall:he($t.RAINFALL),valuesOk:!0}}var pe=pt("router",{NAVIGATE:"NAVIGATE"});var de={route:""};var ye,me=pt("viewer",{SET_ZOOM_VALUE:"SET_ZOOM_VALUE",SET_ZOOM_PERCENTAGE:"SET_ZOOM_PERCENTAGE",SET_ERROR:"SET_ERROR",CLEAR_ERROR:"CLEAR_ERROR",APPLY_ROTATION:"APPLY_ROTATION",RESET:"RESET"});function ve(t){return{type:me.SET_ZOOM_VALUE,zoomValue:t}}function ge(t){return{type:me.APPLY_ROTATION,delta:t}}function be(){return{type:me.RESET}}function Ee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _e=pt("subjectViewer",{SET_TOOL:"SET_TOOL",SET_SUBTOOL:"SET_SUBTOOL",SET_PAN:"SET_PAN",SET_ANNOTATIONS:"SET_ANNOTATIONS",RESET_PAN:"RESET_PAN",RESET_ANNOTATIONS:"RESET_ANNOTATIONS"}),Te={ANNOTATE:"ANNOTATE",PAN:"PAN"},we=(Ee(ye={},Te.ANNOTATE,{LINE:"LINE",RECTANGLE:"RECTANGLE",MOVE:"MOVE",EDIT:"EDIT",DELETE:"DELETE"}),Ee(ye,Te.PAN,{ALL:"ALL",VERTICAL:"VERTICAL",HORIZONTAL:"HORIZONTAL"}),ye);function Se(t){return{type:_e.SET_SUBTOOL,subTool:t}}function Oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ce(){var t;return{tool:Te.PAN,subTools:(t={},Oe(t,Te.ANNOTATE,we.ANNOTATE.MOVE),Oe(t,Te.PAN,we.PAN.VERTICAL),t),pan:[0,0],annotations:{lines:[],rectangles:[]}}}var Re,ke,Ae=function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var o=e[r];"function"==typeof t[o]&&(n[o]=t[o])}var i,a=Object.keys(n);try{!function(t){Object.keys(t).forEach(function(e){var n=t[e];if(void 0===n(void 0,{type:C.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:C.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+C.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(t){i=t}return function(t,e){if(void 0===t&&(t={}),i)throw i;for(var r=!1,o={},s=0;s<a.length;s++){var u=a[s],c=n[u],l=t[u],h=c(l,e);if(void 0===h){var f=A(u,e);throw new Error(f)}o[u]=h,r=r||h!==l}return r?o:t}}({project:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Et.FETCH_PROJECT:return function(t,e){return ht({},t,{status:_t.FETCHING,id:e.id,data:null})}(t,e);case Et.FETCH_PROJECT_SUCCESS:return function(t,e){return ht({},t,{status:_t.READY,data:e.data})}(t,e);case Et.FETCH_PROJECT_ERROR:return function(t,e){return ht({},t,{status:_t.ERROR,error:e.error})}(t,e);default:return t}},workflow:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case St.FETCH_WORKFLOW:return function(t){return ht({},t,{status:Ot.FETCHING,currentWorkflow:null})}(t);case St.FETCH_WORKFLOW_SUCCESS:return function(t,e){return ht({},t,{status:Ot.WORKFLOW_READY,currentWorkflow:e.data})}(t,e);case St.FETCH_WORKFLOW_ERROR:return function(t,e){return ht({},t,{status:Ot.ERROR,error:e.error})}(t,e);case St.SET_WORKFLOW:return function(t,e){return ht({},t,{currentId:e.id})}(t,e);case St.FETCH_ACTIVE_WORKFLOWS:return ht({},At,{status:Ot.FETCHING});case St.FETCH_ACTIVE_WORKFLOWS_SUCCESS:return function(t,e){var n=e.data.map(function(t){return{id:t.id,displayName:t.display_name}});return ht({},t,{status:0===(n=n.filter(function(t){var e=t.displayName;return/^\w+-3$/.test(e)})).length?Ot.ACTIVE_WORKFLOWS_EMPTY:Ot.ACTIVE_WORKFLOWS_READY,activeWorkflows:n})}(t,e);case St.FETCH_ACTIVE_WORKFLOWS_ERROR:return function(t,e){return ht({},t,{status:Ot.ERROR,error:e.error})}(t,e);default:return t}},subject:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case It.FETCH_SUBJECT_QUEUE:return function(t){return ht({},t,{status:Pt.FETCHING,currentSubject:null,queue:[]})}(t);case It.FETCH_SUBJECT_QUEUE_SUCCESS:return function(t,e){return ht({},t,{status:Pt.READY,queue:e.queue})}(t,e);case It.FETCH_SUBJECT_QUEUE_ERROR:return function(t,e){return ht({},t,{status:Pt.ERROR,error:e.error})}(t,e);case It.RESET:return jt;case It.SET_SUBJECT_SET:return function(t,e){return ht({},jt,{subjectSet:e.id})}(0,e);case It.NEXT_SUBJECT:return function(t){var e=t.queue.slice(0);return ht({},t,{currentSubject:e.shift(),queue:e})}(t);default:return t}},image:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Lt.FETCH_IMAGE:return function(t){return ht({},Ut,{status:Dt.FETCHING,src:t.src,img:null})}(e);case Lt.FETCH_IMAGE_SUCCESS:return function(t,e){return ht({},t,{img:e.img,status:Dt.READY})}(t,e);case Lt.FETCH_IMAGE_ERROR:return function(t,e){return ht({},t,{status:Dt.ERROR,error:e.error})}(t,e);case Lt.SET_IMAGE_METADATA:return function(t,e){return ht({},t,{imageMetadata:e.imageMetadata})}(t,e);case Lt.RESET_IMAGE:return Ut;default:return t}},classification:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case qt.START_CLASSIFICATION:return function(t){return ht({},zt,{currentClassification:t.data,status:Wt.IDLE})}(e);case qt.SUBMIT_CLASSIFICATION:return function(t){return ht({},t,{status:Wt.SENDING})}(t);case qt.SUBMIT_CLASSIFICATION_SUCCESS:return zt;case qt.SUBMIT_CLASSIFICATION_ERROR:return function(t,e){return ht({},t,{status:Wt.ERROR,error:e.error})}(t,e);case qt.COMPLETE_CLASSIFICATION:return function(t,e){var n=e.update,r=ht({},t.currentClassification,{annotations:n.annotations,metadata:ht({},t.currentClassification.metadata,n.metadata)});return ht({},t,{currentClassification:r})}(t,e);default:return t}},task:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe(),e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Bt.SET_LOCATION_TITLE:return function(t,e){var n=e.workflow.display_name,r=n.indexOf("-");return ht({},t,{locationTitle:r>-1?n.substring(0,r):n})}(t,e);case Bt.BEGIN_UPDATE_VALUE:return function(t,e){var n=e.name,r=t[n],o=ht({},r,{focused:!0,partialErrors:r.fullErrors});return ht({},t,le({},n,o))}(t,e);case Bt.UPDATE_VALUE:return function(t,e){var n=e.name,r=t[n],o=re[r.type],i=(0,ce[r.type])(e.value),a=ht({},r,{value:i,partialErrors:o.partial(i),fullErrors:o.full(i)});return ht({},t,le({},n,a))}(t,e);case Bt.END_UPDATE_VALUE:return function(t,e){var n,r=e.name,o=ht({},t[r],{focused:!1,partialErrors:[]});return ht({},t,(le(n={},r,o),le(n,"valuesOk",function(t){return["pressure","dryTemperature","wetTemperature","maxTemperature","minTemperature","rainfall"].reduce(function(e,n){return e&&0===t[n].fullErrors.length},!0)}(t)),n))}(t,e);case Bt.NEXT_STEP:return function(t){var e=null;switch(t.status){case Vt.INIT:e=Vt.TRANSCRIBE;break;case Vt.TRANSCRIBE:e=Vt.SUMMARY;break;case Vt.SUMMARY:throw new Error("No next step from SUMMARY")}return ht({},t,{status:e})}(t);case Bt.PREVIOUS_STEP:return function(t){var e=null;switch(t.status){case Vt.INIT:throw new Error("No previous step from INIT");case Vt.TRANSCRIBE:throw new Error("No previous step from TRANSCRIBE");case Vt.SUMMARY:e=Vt.TRANSCRIBE}return ht({},t,{status:e})}(t);case Bt.NEXT_SUBJECT:return function(t){return ht(fe(),{locationTitle:t.locationTitle})}(t);case Bt.RESET:return fe();default:return t}},router:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case pe.NAVIGATE:return function(t,e){return ht({},t,{route:e.route})}(t,e);default:return t}},viewer:(Re=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{zoomValue:"fit-width",zoomPercentage:100,rotation:0,error:null},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case me.SET_ZOOM_VALUE:return function(t,e){return ht({},t,{zoomValue:e.zoomValue})}(t,e);case me.SET_ZOOM_PERCENTAGE:return function(t,e){return ht({},t,{zoomValue:e.zoomValue,zoomPercentage:e.zoomPercentage})}(t,e);case me.APPLY_ROTATION:return function(t,e){return ht({},t,{rotation:(t.rotation+e.delta+4)%4})}(t,e);case me.SET_ERROR:return function(t,e){return ht({},t,{error:e.error})}(t,e);case me.CLEAR_ERROR:return function(t){return ht({},t,{error:null})}(t);case me.RESET:return function(t){return ht({},t,{zoomValue:"fit-width",zoomPercentage:100,rotation:0,error:null})}(t);default:return t}},ke=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce(),e=arguments.length>1?arguments[1]:void 0;switch(e.type){case _e.SET_TOOL:return function(t,e){return ht({},t,{tool:e.tool})}(t,e);case _e.SET_SUBTOOL:return function(t,e){var n=ht({},t.subTools,Oe({},t.tool,e.subTool));return ht({},t,{subTools:n})}(t,e);case _e.SET_PAN:return function(t,e){return ht({},t,{pan:e.pan})}(t,e);case _e.SET_ANNOTATIONS:return function(t,e){return ht({},t,{annotations:e.annotations})}(t,e);case _e.RESET_PAN:return function(t){return ht({},t,Ce(),{tool:t.tool,subTools:t.subTools,annotations:t.annotations})}(t);case _e.RESET_ANNOTATIONS:return function(t){return ht({},t,Ce(),{tool:t.tool,subTools:t.subTools,pan:t.pan})}(t);case me.RESET:return function(t){return ht({},t,Ce(),{tool:t.tool,subTools:t.subTools})}(t);default:return t}},function(t,e){return void 0===t?ht({},Re(t,e),ke(t,e)):(t=Re(t,e),ke(t,e))})}),Ie=[at];function Pe(t){return bt.zooniverseLinks.projectLinkBase+t}function Ne(t){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xe(t){return(xe="function"==typeof Symbol&&"symbol"===Ne(Symbol.iterator)?function(t){return Ne(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":Ne(t)})(t)}function je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Le(t){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function De(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ue(t,e){return(Ue=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Me=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Le(e).call(this,t))||"object"!==xe(o)&&"function"!=typeof o?De(r):o).state={navbarCollapsed:!0},n.handleNavbarToggle=n.handleNavbarToggle.bind(De(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ue(t,e)}(e,o.a.Component),n=e,(r=[{key:"handleNavbarToggle",value:function(){this.setState({navbarCollapsed:!this.state.navbarCollapsed})}},{key:"renderItem",value:function(t,e){var n=lt([["nav-item",!0],["active",t==="#"+this.props.route]]);return o.a.createElement("li",{className:n},o.a.createElement("a",{className:"nav-link",href:t},e))}},{key:"render",value:function(){var t=lt([["navbar-collapse justify-content-end",!0],["collapse",this.state.navbarCollapsed]]);return o.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light bg-light",role:"navigation"},o.a.createElement("a",{className:"navbar-brand",href:"#"},"Weather Rescue DEMO"),o.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:this.handleNavbarToggle},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:t},o.a.createElement("ul",{className:"navbar-nav"},this.renderItem("#","Home"),this.renderItem(Pe("/about"),"About"),this.renderItem("#classify","Classify"),this.renderItem(Pe("/talk"),"Talk"),this.renderItem(Pe("/stats"),"Stats"))))}}])&&je(n.prototype,r),i&&je(n,i),e}();Me.propTypes={route:c.a.string.isRequired};var Fe=Me;var He=function(){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"jumbotron mt-3"},o.a.createElement("h1",null,"Weather Rescue DEMO"),o.a.createElement("p",{className:"lead"},"A demonstration custom site for the Weather Rescue project")))};function qe(t){return function(e,n){return e({type:Bt.RESET}),e(be()),e(Ct(t)),e(Rt()).then(function(){var t=n().workflow.currentWorkflow;e(function(t){return{type:Bt.SET_LOCATION_TITLE,workflow:t}}(t));var r=t.links.subject_sets;return e(Nt(r[0].id)),e(We())}).catch(function(t){return console.error(t)})}}function We(){return function(t,e){return t(function(t,e){var n=e(),r=n.workflow,o=n.subject;if(0===o.queue.length){var i={workflow_id:r.currentId,subject_set_id:o.subjectSet};return t({type:It.FETCH_SUBJECT_QUEUE}),mt.a.type("subjects/queued").get(i).then(function(e){t({type:It.FETCH_SUBJECT_QUEUE_SUCCESS,queue:e}),t(xt())}).catch(function(e){t({type:It.FETCH_SUBJECT_QUEUE_ERROR,error:e})})}return Promise.resolve(t(xt()))}).then(function(){var n=e().subject;return t(function(t){return function(e){var n=function(t){return t.locations[0]["image/jpeg"]}(t);return e({type:Lt.FETCH_IMAGE,src:n}),new Promise(function(t,r){var o=new Image;o.onload=function(){return e({type:Lt.FETCH_IMAGE_SUCCESS,img:o}),t()},o.onerror=function(t){return e({type:Lt.FETCH_IMAGE_ERROR,error:t}),r(t)},o.src=n})}}(n.currentSubject))}).then(function(){t(function(t,e){var n=e(),r=n.project,o=n.workflow,i=n.subject.currentSubject,a=o.currentWorkflow,s=dt(),u={annotations:[],metadata:{workflow_version:a.version,started_at:s.toISOString(),user_agent:navigator.userAgent,user_language:"en",utc_offset:(60*s.getTimezoneOffset()).toString(),subject_dimensions:i.locations.map(function(){return null})},links:{project:r.id,workflow:a.id,subjects:[i.id]}};t({type:qt.START_CLASSIFICATION,data:u})})}).then(function(){t(Kt())}).catch(function(t){return console.error(t)})}}function ze(){return function(t,e){var n=function(t){return[{task:"T3",value:[{task:"T7",value:t.pressure.value},{task:"T1",value:t.dryTemperature.value},{task:"T5",value:t.wetTemperature.value},{task:"T9",value:t.maxTemperature.value},{task:"T10",value:t.minTemperature.value},{task:"T6",value:t.rainfall.value}]}]}(e().task);return t(function(t){return function(e,n){var r,o,i,a=n().image,s=dt(),u={annotations:t,metadata:{session:(i=sessionStorage.getItem("session_id")||null,null!==i?(r=i.id,o=i.ttl):(r="",o=0),o<Date.now()?(r=(i=Ft()).id,o=i.ttl):Mt(i={id:r,ttl:o=Ht()}),r),finished_at:s.toISOString(),viewport:{width:window.innerWidth,height:window.innerHeight},subject_dimensions:a.imageMetadata}};e({type:qt.COMPLETE_CLASSIFICATION,update:u})}}(n)),t(function(t){return t({type:qt.SUBMIT_CLASSIFICATION}),t({type:qt.SUBMIT_CLASSIFICATION_SUCCESS}),Promise.resolve()}).then(function(){return t({type:Bt.NEXT_SUBJECT}),t(We())}).catch(function(t){return console.error(t)})}}function Be(t){return function(e){13===e.keyCode&&t(e)}}function Ve(t){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ke(t){return(Ke="function"==typeof Symbol&&"symbol"===Ve(Symbol.iterator)?function(t){return Ve(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":Ve(t)})(t)}function Ge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $e(t){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Je(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ye(t,e){return(Ye=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ze=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=$e(e).call(this,t))||"object"!==Ke(o)&&"function"!=typeof o?Je(r):o).handleChange=n.handleChange.bind(Je(n)),n.handleFocus=n.handleFocus.bind(Je(n)),n.handleBlur=n.handleBlur.bind(Je(n)),n.handleClick=n.handleClick.bind(Je(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ye(t,e)}(e,o.a.Component),n=e,(r=[{key:"handleChange",value:function(t){var e=t.target.value;this.props.dispatch(function(t,e){return{type:Bt.UPDATE_VALUE,name:t,value:e}}(this.props.name,e))}},{key:"handleFocus",value:function(t){var e;ct(t.target),this.props.dispatch((e=this.props.name,{type:Bt.BEGIN_UPDATE_VALUE,name:e}))}},{key:"handleBlur",value:function(){var t;this.props.dispatch((t=this.props.name,{type:Bt.END_UPDATE_VALUE,name:t}))}},{key:"handleClick",value:function(t){ct(t.target)}},{key:"render",value:function(){var t=this.props,e=t.id,n=t.tabIndex,r=t.focused,i=t.value,a=t.partialErrors,s=t.fullErrors,u=lt([["form-control value-input",!0],["is-invalid",r&&a.length>0||!r&&s.length>0],["is-valid",!r&&0===s.length]]),c=r&&a.length>0;return o.a.createElement("div",{className:"value-group"},o.a.createElement("input",{id:e,className:u,type:"text",value:i,tabIndex:n,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick}),c?o.a.createElement("div",{className:"invalid-tooltip value-tooltip"},a.join(", ")):null)}}])&&Ge(n.prototype,r),i&&Ge(n,i),e}();Ze.propTypes={id:c.a.string.isRequired,tabIndex:c.a.number.isRequired,name:c.a.string.isRequired,value:c.a.string.isRequired,fullErrors:c.a.arrayOf(c.a.string).isRequired,partialErrors:c.a.arrayOf(c.a.string).isRequired,focused:c.a.bool.isRequired,dispatch:c.a.func.isRequired};var Xe=Ze;function Qe(t){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tn(t){return(tn="function"==typeof Symbol&&"symbol"===Qe(Symbol.iterator)?function(t){return Qe(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":Qe(t)})(t)}function en(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nn(t){return(nn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function on(t,e){return(on=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var an=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=nn(e).call(this,t))||"object"!==tn(o)&&"function"!=typeof o?rn(r):o).handleKeyDown=n.handleKeyDown.bind(rn(n)),n.handleNext=n.handleNext.bind(rn(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&on(t,e)}(e,o.a.Component),n=e,(r=[{key:"handleKeyDown",value:function(t){13===t.keyCode&&(t.preventDefault(),this.props.onSwitchInput(t.target.tabIndex,t.target.tabIndex+1))}},{key:"componentDidMount",value:function(){ut(1)}},{key:"handleNext",value:function(t){t.preventDefault(),this.props.dispatch(Kt())}},{key:"renderValueInput",value:function(t,e){var n=this.props,r=n.dispatch,i=n.onSwitchInput,a=this.props.values[t],s=a.value,u=a.focused,c=a.partialErrors,l=a.fullErrors;return o.a.createElement(Xe,{name:t,id:"".concat(t,"-input"),tabIndex:e,value:s,focused:u,partialErrors:c,fullErrors:l,onSwitchInput:i,dispatch:r})}},{key:"renderInstructionGroup",value:function(t,e,n,r){return o.a.createElement("div",{className:"instruction-group"},o.a.createElement("label",{htmlFor:"".concat(t,"-input")},n),this.renderValueInput(t,e),o.a.createElement("small",{className:"form-text text-muted"},r))}},{key:"render",value:function(){var t=this.props.locationTitle;return o.a.createElement("div",{className:"task-container"},o.a.createElement("p",{className:"step-title"},"Please enter data for ",t),o.a.createElement("div",{className:"task-group",onKeyDown:this.handleKeyDown},this.renderInstructionGroup("pressure",1,"Pressure","First column"),this.renderInstructionGroup("dryTemperature",2,"Dry bulb temperature","Third column"),this.renderInstructionGroup("wetTemperature",3,"Wet bulb temperature","Fourth column"),this.renderInstructionGroup("maxTemperature",4,"Max temperature","Sixth column"),this.renderInstructionGroup("minTemperature",5,"Min temperature","Seventh column"),this.renderInstructionGroup("rainfall",6,"Rainfall","Near right hand side")),o.a.createElement("div",{className:"buttons"},o.a.createElement("button",{className:"btn btn-success",type:"button",title:"Next",tabIndex:7,onClick:this.handleNext,onKeyDown:Be(this.handleNext)},"Next")))}}])&&en(n.prototype,r),i&&en(n,i),e}();an.propTypes={locationTitle:c.a.string.isRequired,dispatch:c.a.func.isRequired,values:c.a.object.isRequired,onSwitchInput:c.a.func.isRequired};var sn=an;function un(t){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cn(t){return(cn="function"==typeof Symbol&&"symbol"===un(Symbol.iterator)?function(t){return un(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":un(t)})(t)}function ln(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hn(t){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pn(t,e){return(pn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var dn=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=hn(e).call(this,t))||"object"!==cn(o)&&"function"!=typeof o?fn(r):o).handleDoneAndTalk=n.handleDoneAndTalk.bind(fn(n)),n.handleDone=n.handleDone.bind(fn(n)),n.handleBack=n.handleBack.bind(fn(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pn(t,e)}(e,o.a.Component),n=e,(r=[{key:"handleDoneAndTalk",value:function(){this.props.onDone()}},{key:"handleDone",value:function(t){t.preventDefault(),this.props.onDone()}},{key:"handleBack",value:function(t){t.preventDefault(),this.props.dispatch({type:Bt.PREVIOUS_STEP})}},{key:"componentDidMount",value:function(){ut(1)}},{key:"renderValue",value:function(t){var e=this.props.values[t].value;return""==e?"BLANK":e}},{key:"renderInstructionGroup",value:function(t,e){return o.a.createElement("div",{className:"instruction-group"},o.a.createElement("div",{className:"summary-label"},e),o.a.createElement("div",{className:"summary-answer"},this.renderValue(t)))}},{key:"render",value:function(){var t=this.props.subject,e=Pe("/talk"+t.href);return o.a.createElement("div",{className:"task-container"},o.a.createElement("p",{className:"step-title"},"Summary"),o.a.createElement("div",{className:"task-group"},this.renderInstructionGroup("pressure","Pressure"),this.renderInstructionGroup("dryTemperature","Dry bulb temperature"),this.renderInstructionGroup("wetTemperature","Wet bulb temperature"),this.renderInstructionGroup("maxTemperature","Max temperature"),this.renderInstructionGroup("minTemperature","Min temperature"),this.renderInstructionGroup("rainfall","Rainfall")),o.a.createElement("div",{className:"font-weight-bold mb-4"},"THIS IS A DEMONSTRATION - YOUR CLASSIFICATION WILL NOT BE UPLOADED TO ZOONIVERSE!"),o.a.createElement("div",{className:"buttons"},o.a.createElement("a",{className:"btn btn-outline-secondary",href:e,target:"_blank",rel:"noopener noreferrer",tabIndex:"3",onClick:this.handleDoneAndTalk},"Done & Talk"),o.a.createElement("div",{className:"float-right"},o.a.createElement("button",{className:"btn btn-secondary",type:"button",title:"Back",tabIndex:"2",onClick:this.handleBack},"Back"),o.a.createElement("button",{className:"btn btn-success",type:"button",title:"Done",tabIndex:"1",onClick:this.handleDone,onKeyDown:Be(this.handleDone)},"Done"))))}}])&&ln(n.prototype,r),i&&ln(n,i),e}();dn.propTypes={dispatch:c.a.func.isRequired,locationTitle:c.a.string.isRequired,values:c.a.object.isRequired,subject:c.a.object.isRequired,onDone:c.a.func.isRequired};var yn=dn;function mn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function vn(t){var e=mn(t,2),n=e[0],r=e[1];return[Math.round(n),Math.round(r)]}function gn(t,e){var n=mn(t,2),r=n[0],o=n[1],i=mn(e,2);return[r+i[0],o+i[1]]}function bn(t,e){var n=mn(t,2),r=n[0],o=n[1],i=mn(e,2);return[r-i[0],o-i[1]]}function En(t,e){var n=mn(t,2),r=n[0],o=n[1],i=mn(e,2),a=i[0],s=i[1];return r===a&&o===s}function _n(t){var e=mn(t,2),n=e[0],r=e[1],o=mn(n,2),i=o[0],a=o[1],s=mn(r,2),u=s[0],c=s[1];return[[(i+u)/2,a],[(i+u)/2,c],[i,(a+c)/2],[u,(a+c)/2]]}function Tn(t,e){var n=mn(t,2),r=mn(n[0],2),o=r[0],i=r[1],a=mn(n[1],2),s=a[0],u=a[1],c=mn(e,2),l=c[0],h=c[1];return o<l&&l<s&&i<h&&h<u}function wn(t,e){var n=mn(t,2),r=mn(n[0],2),o=r[0],i=r[1],a=mn(n[1],2),s=a[0],u=a[1],c=mn(e,2),l=c[0],h=c[1];return[[o-l,i-h],[s+l,u+h]]}function Sn(t){return(Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function On(t){return(On="function"==typeof Symbol&&"symbol"===Sn(Symbol.iterator)?function(t){return Sn(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":Sn(t)})(t)}function Cn(t,e){return!e||"object"!==On(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Rn(t){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kn(t,e){return(kn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function An(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function In(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nn(t,e,n){return e&&Pn(t.prototype,e),n&&Pn(t,n),t}function xn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function jn(t,e){var n=xn(t,6),r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],u=n[5],c=xn(e,2),l=c[0],h=c[1];return[r*l+i*h+s,o*l+a*h+u]}var Ln=function(){function t(e){In(this,t),this.ctx=e,this.items=[],this.origin=[0,0],this.scale=1,this.rotation=0}return Nn(t,[{key:"_findInsertIndex",value:function(t){for(var e=0;e<this.items.length;e++)if(this.items[e].zIndex>t.zIndex)return e;return this.items.length}},{key:"addItem",value:function(t){var e,n=this;t.scene=this,this.items.push(t),this.items.sort((e=function(t){return t.zIndex},function(t,n){var r=e(t),o=e(n);return(r>o)-(o>r)})),t.children.forEach(function(t){n.addItem(t)})}},{key:"removeItem",value:function(t){var e=this;t.scene=null,t.children.forEach(function(t){e.removeItem(t)});var n=this.items.indexOf(t);n>-1&&this.items.splice(n,1)}},{key:"getItems",value:function(t){return this.items.filter(function(e){return e instanceof t})}},{key:"getTransform",value:function(){var t=this.ctx.canvas,e=t.width,n=t.height;switch(this.rotation){case 0:return[1,0,0,1,0,0];case 1:return[0,1,-1,0,e,0];case 2:return[-1,0,0,-1,e,n];case 3:return[0,-1,1,0,0,n]}}},{key:"getInverseTransform",value:function(){var t=this.ctx.canvas,e=t.width,n=t.height;switch(this.rotation){case 0:return[1,0,0,1,0,0];case 1:return[0,-1,1,0,0,e];case 2:return[-1,0,0,-1,e,n];case 3:return[0,1,-1,0,n,0]}}},{key:"update",value:function(){var t,e=this.ctx.canvas;this.ctx.clearRect(0,0,e.width,e.height),this.ctx.save();var n=this.getTransform();(t=this.ctx).setTransform.apply(t,An(n)),this.items.forEach(function(t){t.isVisible()&&t.draw(this.ctx)},this),this.ctx.restore()}},{key:"itemAt",value:function(t){for(var e=this.items.length-1;e>=0;e--){var n=this.items[e];if(n.isVisible()&&n.hitTest(t))return n}return null}},{key:"toScene",value:function(t){var e=xn(t,2),n=e[0],r=e[1],o=xn(this.origin,2),i=o[0],a=o[1];return[this.scale*(n+i),this.scale*(r+a)]}},{key:"fromView",value:function(t){var e=xn(jn(this.getInverseTransform(),t),2),n=e[0],r=e[1],o=xn(this.origin,2),i=o[0],a=o[1];return vn([n/this.scale-i,r/this.scale-a])}},{key:"deltaFromView",value:function(t){var e=this.getInverseTransform();e[4]=e[5]=0;var n=xn(jn(e,t),2),r=n[0],o=n[1];return vn([r/this.scale,o/this.scale])}},{key:"sizeToScene",value:function(t){var e=xn(t,2),n=e[0],r=e[1],o=this.scale;return[o*n,o*r]}},{key:"sceneSize",value:function(){var t=this.ctx.canvas;return[t.width,t.height]}},{key:"clear",value:function(){this.items.forEach(function(t){return t.scene=null}),this.items=[]}}]),t}(),Dn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;In(this,t),this.parnt=e,this.children=[],this.zIndex=0,this._visible=!0}return Nn(t,[{key:"draw",value:function(){}},{key:"hitTest",value:function(){return!1}},{key:"isVisible",value:function(){return this._visible}},{key:"setVisible",value:function(t){this._visible=t,this.children.forEach(function(e){return e.setVisible(t)})}}]),t}(),Un=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return In(this,e),(n=Cn(this,Rn(e).call(this,null))).img=t,n.pos=r,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kn(t,e)}(e,Dn),Nn(e,[{key:"moveBy",value:function(t){this.pos=[this.pos[0]+t[0],this.pos[1]+t[1]]}},{key:"draw",value:function(t){var e=this.scene.toScene(this.pos),n=this.scene.sizeToScene([this.img.width,this.img.height]);t.save(),t.drawImage(this.img,e[0],e[1],n[0],n[1]),t.restore()}},{key:"hitTest",value:function(){return!0}}]),e}();function Mn(t){return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fn(t){return(Fn="function"==typeof Symbol&&"symbol"===Mn(Symbol.iterator)?function(t){return Mn(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":Mn(t)})(t)}function Hn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function qn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wn(t){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bn(t,e){return(Bn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Vn=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Wn(e).call(this,t))||"object"!==Fn(o)&&"function"!=typeof o?zn(r):o).viewerRef=null,n.canvasRef=null,n.handleKeyDown=n.handleKeyDown.bind(zn(n)),n.handleKeyUp=n.handleKeyUp.bind(zn(n)),n.handleMouseDown=n.handleMouseDown.bind(zn(n)),n.handleMouseUp=n.handleMouseUp.bind(zn(n)),n.handleMouseMove=n.handleMouseMove.bind(zn(n)),n.handleZoom=n.handleZoom.bind(zn(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bn(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this;return o.a.createElement("div",{className:"viewer",ref:function(e){return t.viewerRef=e},onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,tabIndex:"0"},o.a.createElement("canvas",{onMouseDown:this.handleMouseDown,style:{cursor:this.getCursor()},ref:function(e){return t.canvasRef=e}}))}},{key:"renderScene",value:function(){}},{key:"componentDidMount",value:function(){this.ctx=this.canvasRef.getContext("2d"),this.scene=new Ln(this.ctx),this.scene.origin=[0,0],this.scene.rotation=this.props.rotation,this.renderScene(),this.scene.update(),this.handleZoom(),window.addEventListener("mouseup",this.handleMouseUp,!1),window.addEventListener("resize",this.handleZoom,!1);var t,e=this.props.img,n={naturalWidth:e.naturalWidth,naturalHeight:e.naturalHeight,clientWidth:this.canvasRef.width,clientHeight:this.canvasRef.height};this.props.dispatch((t=n,function(e){e({type:Lt.SET_IMAGE_METADATA,metadata:t})}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mouseup",this.handleMouseUp),window.removeEventListener("resize",this.handleZoom)}},{key:"componentDidUpdate",value:function(t){t.zoomValue===this.props.zoomValue&&t.rotation===this.props.rotation||(this.scene.rotation=this.props.rotation,this.handleZoom())}},{key:"addMouseMoveHandler",value:function(){this.canvasRef.addEventListener("mousemove",this.handleMouseMove,!1)}},{key:"removeMouseMoveHandler",value:function(){this.canvasRef.removeEventListener("mousemove",this.handleMouseMove)}},{key:"getCursor",value:function(){return"auto"}},{key:"getMousePos",value:function(t){var e=this.canvasRef.getBoundingClientRect();return this.scene.fromView([t.clientX-e.left,t.clientY-e.top])}},{key:"getMouseDelta",value:function(t){var e;switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null){case"horizontal":e=[t.movementX,0];break;case"vertical":e=[0,t.movementY];break;default:e=[t.movementX,t.movementY]}return this.scene.deltaFromView(e)}},{key:"handleKeyDown",value:function(){}},{key:"handleKeyUp",value:function(){}},{key:"handleMouseDown",value:function(){}},{key:"handleMouseUp",value:function(){}},{key:"handleMouseMove",value:function(){}},{key:"scaleCanvas",value:function(t){var e=Hn(this.getFullSize(),2),n=e[0],r=e[1];n=Math.floor(t*n),r=Math.floor(t*r),this.canvasRef.width=n,this.canvasRef.height=r}},{key:"getImageSize",value:function(){var t=this.props.img;return[t.naturalWidth,t.naturalHeight]}},{key:"getFullSize",value:function(){var t=Hn(this.getImageSize(),2),e=t[0],n=t[1];return this.props.rotation%2==0?[e+0,n+0]:[n+0,e+0]}},{key:"getImageRect",value:function(){return[[0,0],this.getImageSize()]}},{key:"handleZoom",value:function(){var t=this,e=0,n=this.props.zoomValue,r=Hn(this.getFullSize(),2),o=r[0],i=r[1];ft(n,{"actual-size":function(){e=1,t.scaleCanvas(e)},"fit-height":function(){var n=t.viewerRef.clientWidth,r=t.viewerRef.clientHeight;e=Math.min(1/0,n/o,r/i),t.scaleCanvas(e)},"fit-width":function(){var n=t.viewerRef.clientWidth;e=n/o,t.scaleCanvas(e)},default:function(){var r=parseInt(n);e=r/100,t.scaleCanvas(e)}});var a=Math.round(100*e);this.props.dispatch(function(t,e){return{type:me.SET_ZOOM_PERCENTAGE,zoomValue:t,zoomPercentage:e}}(n,a)),this.scene.scale=e,this.scene.update()}}])&&qn(n.prototype,r),i&&qn(n,i),e}();Vn.propTypes={img:c.a.instanceOf(Element).isRequired,zoomValue:c.a.string.isRequired,rotation:c.a.number.isRequired,dispatch:c.a.func.isRequired};var Kn=Vn;function Gn(t){var e,n=t.title,r=t.iconClass,i=void 0===r?"":r,a=t.disabled,s=void 0!==a&&a,u=t.onClick;if(""===i)e=n;else{var c=lt([["fa",!0],[i,!0]]);e=o.a.createElement("i",{className:c})}return o.a.createElement("button",{className:"menu-button",type:"button",onClick:u,title:n,disabled:s},e)}function $n(t){var e,n=t.value,r=t.title,i=t.tool,a=t.iconClass,s=void 0===a?"":a,u=t.onClick;if(""===s)e=r;else{var c=lt([["fa fa-fw",!0],[s,!0]]);e=o.a.createElement("i",{className:c})}var l=lt([["menu-button tool-button",!0],["active",n===i]]);return o.a.createElement("button",{className:l,type:"button",onClick:function(){return u(n)},title:r},e)}function Jn(t){return o.a.createElement("div",{className:"menu-button-group"},t.children)}function Yn(t){var e=t.tool,n=t.onChange;return o.a.createElement(o.a.Fragment,null,function(t,e){return o.a.Children.map(t,function(t){return o.a.cloneElement(t,e)})}(t.children,{tool:e,onClick:n}))}function Zn(t){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xn(t){return(Xn="function"==typeof Symbol&&"symbol"===Zn(Symbol.iterator)?function(t){return Zn(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":Zn(t)})(t)}function Qn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function tr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function er(t){return(er=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rr(t,e){return(rr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Gn.propTypes={title:c.a.string.isRequired,disabled:c.a.bool,iconClass:c.a.string,onClick:c.a.func.isRequired},$n.propTypes={title:c.a.string.isRequired,value:c.a.string.isRequired,iconClass:c.a.string,tool:c.a.string,onClick:c.a.func},Jn.propTypes={children:c.a.any},Yn.propTypes={tool:c.a.string.isRequired,onChange:c.a.func.isRequired,children:c.a.any};var or=[["fit-width","Fit Width"],["fit-height","Fit Height"],["actual-size","Actual Size"]],ir=[[10,!1],[20,!1],[30,!1],[40,!1],[50,!0],[60,!1],[70,!1],[80,!1],[90,!1],[100,!0],[120,!1],[140,!1],[160,!1],[180,!1],[200,!0],[230,!1],[260,!1],[290,!1],[320,!1],[360,!1],[400,!1],[450,!1],[500,!1]],ar=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=er(e).call(this,t))||"object"!==Xn(o)&&"function"!=typeof o?nr(r):o).handleZoomOut=n.handleZoomOut.bind(nr(n)),n.handleZoomIn=n.handleZoomIn.bind(nr(n)),n.handleZoom=n.handleZoom.bind(nr(n)),n.handleRotateClockwise=n.handleRotateClockwise.bind(nr(n)),n.handleRotateAnticlockwise=n.handleRotateAnticlockwise.bind(nr(n)),n.handleReset=n.handleReset.bind(nr(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rr(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props,e=t.zoomValue,n=t.zoomPercentage,r=Qn(ir[0],1)[0],i=Qn(ir[ir.length-1],1)[0],a=or.map(function(t){var e=Qn(t,2),n=e[0],r=e[1];return o.a.createElement("option",{key:n,value:n},r)}),s=ir.map(function(t){var e=Qn(t,2),n=e[0],r=e[1],i=n+"%";return o.a.createElement("option",{key:n,value:n,disabled:!r,hidden:!r},i)}),u=a.concat(s);return o.a.createElement("nav",{className:"menu-button-bar"},o.a.createElement(Jn,null,o.a.createElement(Gn,{title:"Zoom out",onClick:this.handleZoomOut,disabled:n<=r,iconClass:"fa-minus"}),o.a.createElement(Gn,{title:"Zoom in",onClick:this.handleZoomIn,disabled:n>=i,iconClass:"fa-plus"}),o.a.createElement("select",{className:"menu-control zoom-select",title:"Zoom",value:e,onChange:this.handleZoom},u)),o.a.createElement(Jn,null,o.a.createElement(Gn,{title:"Rotate anticlockwise",onClick:this.handleRotateAnticlockwise,iconClass:"fa-rotate-left"}),o.a.createElement(Gn,{title:"Rotate clockwise",onClick:this.handleRotateClockwise,iconClass:"fa-rotate-right"})),o.a.createElement(Jn,null,o.a.createElement(Gn,{title:"Reset all",onClick:this.handleReset,iconClass:"fa-refresh"})),this.props.children)}},{key:"handleZoomIn",value:function(){for(var t="",e=0;e<ir.length;e++){var n=Qn(ir[e],1)[0];if(n>this.props.zoomPercentage){t=n+"";break}}this.props.dispatch(ve(t))}},{key:"handleZoomOut",value:function(){for(var t="",e=ir.length-1;e>=0;e--){var n=Qn(ir[e],1)[0];if(n<this.props.zoomPercentage){t=n+"";break}}this.props.dispatch(ve(t))}},{key:"handleZoom",value:function(t){this.props.dispatch(ve(t.target.value))}},{key:"handleRotateClockwise",value:function(){this.props.dispatch(ge(1))}},{key:"handleRotateAnticlockwise",value:function(){this.props.dispatch(ge(-1))}},{key:"handleReset",value:function(){this.props.dispatch(be())}}])&&tr(n.prototype,r),i&&tr(n,i),e}();ar.propTypes={zoomValue:c.a.string.isRequired,zoomPercentage:c.a.number.isRequired,children:c.a.node,dispatch:c.a.func.isRequired};var sr=ar;function ur(t){return(ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lr(t,e,n){return(lr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vr(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function hr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function fr(t){return(fr="function"==typeof Symbol&&"symbol"===ur(Symbol.iterator)?function(t){return ur(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":ur(t)})(t)}function pr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yr(t,e,n){return e&&dr(t.prototype,e),n&&dr(t,n),t}function mr(t,e){return!e||"object"!==fr(e)&&"function"!=typeof e?gr(t):e}function vr(t){return(vr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function br(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Er(t,e)}function Er(t,e){return(Er=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _r=function(t){function e(t){var n;return pr(this,e),(n=mr(this,vr(e).call(this,t))).handleToolChange=n.handleToolChange.bind(gr(n)),n}return br(e,o.a.Component),yr(e,[{key:"render",value:function(){var t=this.props.tool;return o.a.createElement(Jn,null,o.a.createElement(Yn,{tool:t,onChange:this.handleToolChange},o.a.createElement($n,{title:"Pan",value:Te.PAN}),o.a.createElement($n,{title:"Annotate",value:Te.ANNOTATE})))}},{key:"handleToolChange",value:function(t){this.props.dispatch(function(t){return{type:_e.SET_TOOL,tool:t}}(t))}}]),e}();_r.propTypes={tool:c.a.string.isRequired,dispatch:c.a.func.isRequired};var Tr=function(t){function e(t){var n;return pr(this,e),(n=mr(this,vr(e).call(this,t))).handleSubToolChange=n.handleSubToolChange.bind(gr(n)),n.handleClearAnnotations=n.handleClearAnnotations.bind(gr(n)),n}return br(e,o.a.Component),yr(e,[{key:"render",value:function(){var t=we.ANNOTATE,e=this.props.subTool;return o.a.createElement(Jn,null,o.a.createElement(Yn,{tool:e,onChange:this.handleSubToolChange},o.a.createElement($n,{title:"Line",value:t.LINE,iconClass:"fa-pencil"}),o.a.createElement($n,{title:"Rectangle",value:t.RECTANGLE,iconClass:"fa-square-o"}),o.a.createElement($n,{title:"Move",value:t.MOVE,iconClass:"fa-arrows"}),o.a.createElement($n,{title:"Edit",value:t.EDIT,iconClass:"fa-mouse-pointer"}),o.a.createElement($n,{title:"Delete",value:t.DELETE,iconClass:"fa-remove"})),o.a.createElement(Gn,{title:"Clear annotations",onClick:this.handleClearAnnotations,iconClass:"fa-trash"}))}},{key:"handleSubToolChange",value:function(t){this.props.dispatch(Se(t))}},{key:"handleClearAnnotations",value:function(){this.props.dispatch({type:_e.RESET_ANNOTATIONS})}}]),e}();Tr.propTypes={subTool:c.a.string.isRequired,dispatch:c.a.func.isRequired};var wr=function(t){function e(t){var n;return pr(this,e),(n=mr(this,vr(e).call(this,t))).handleSubToolChange=n.handleSubToolChange.bind(gr(n)),n.handleResetPan=n.handleResetPan.bind(gr(n)),n}return br(e,o.a.Component),yr(e,[{key:"render",value:function(){var t=we.PAN,e=this.props.subTool;return o.a.createElement(Jn,null,o.a.createElement(Yn,{tool:e,onChange:this.handleSubToolChange},o.a.createElement($n,{title:"All",value:t.ALL,iconClass:"fa-arrows"}),o.a.createElement($n,{title:"Vertical",value:t.VERTICAL,iconClass:"fa-arrows-v"}),o.a.createElement($n,{title:"Horizontal",value:t.HORIZONTAL,iconClass:"fa-arrows-h"})),o.a.createElement(Gn,{title:"Reset pan",onClick:this.handleResetPan,iconClass:"fa-bullseye"}))}},{key:"handleSubToolChange",value:function(t){this.props.dispatch(Se(t))}},{key:"handleResetPan",value:function(){this.props.dispatch({type:_e.RESET_PAN})}}]),e}();wr.propTypes={subTool:c.a.string.isRequired,dispatch:c.a.func.isRequired};var Sr,Or,Cr=function(t){function e(t,n){var r;return pr(this,e),(r=mr(this,vr(e).call(this,t))).pos=n,r.zIndex=2,r}return br(e,Dn),yr(e,[{key:"draw",value:function(t){var e=this.scene.toScene(this.pos);t.save(),t.strokeStyle="#ff0000",t.lineWidth=2,t.beginPath(),t.rect(e[0]-4,e[1]-4,8,8),t.stroke(),t.restore()}},{key:"moveBy",value:function(t){this.parnt.moveControlPointBy(this,t)}},{key:"hitTest",value:function(t){return Tn(wn([this.pos,this.pos],[9,9]),t)}}]),e}(),Rr=function(t){function e(t,n,r){var o;switch(pr(this,e),(o=mr(this,vr(e).call(this))).item0=new Cr(gr(o),t),o.item1=new Cr(gr(o),n),o.children=[o.item0,o.item1],r){case we.ANNOTATE.EDIT:o.showControlPoints(!0);break;default:o.showControlPoints(!1)}return o.zIndex=1,o}return br(e,Dn),yr(e,[{key:"showControlPoints",value:function(t){this.children.forEach(function(e){return e.setVisible(t)})}},{key:"isEmpty",value:function(){return En(this.item0.pos,this.item1.pos)}},{key:"getLine",value:function(){return[this.item0.pos,this.item1.pos]}},{key:"moveBy",value:function(t){this.children.forEach(function(e){return e.pos=gn(e.pos,t)})}},{key:"draw",value:function(t){var e=hr(this.scene.toScene(this.item0.pos),2),n=e[0],r=e[1],o=hr(this.scene.toScene(this.item1.pos),2),i=o[0],a=o[1];t.save(),t.strokeStyle="#ff0000",t.lineWidth=2,t.beginPath(),t.moveTo(n,r),t.lineTo(i,a),t.stroke(),t.restore()}},{key:"moveControlPointBy",value:function(t,e){t.pos=gn(t.pos,e)}},{key:"hitTest",value:function(t){var e=hr(bn(this.item1.pos,this.item0.pos),2),n=e[0],r=e[1],o=hr(bn(t,this.item0.pos),2),i=o[0],a=o[1],s=Math.sqrt(n*n+r*r),u=n/s,c=r/s,l=u*i+c*a,h=-c*i+u*a;return Tn(wn([[0,0],[s,0]],[5,5]),[l,h])}}]),e}(),kr=function(t){function e(t,n,r){var o;pr(this,e),(o=mr(this,vr(e).call(this))).rect=[t,n];var i=_n(o.rect);switch(o.tItem=new Cr(gr(o),i[0]),o.bItem=new Cr(gr(o),i[1]),o.lItem=new Cr(gr(o),i[2]),o.rItem=new Cr(gr(o),i[3]),o.children=[o.tItem,o.bItem,o.lItem,o.rItem],r){case we.ANNOTATE.EDIT:o.showControlPoints(!0);break;default:o.showControlPoints(!1)}return o.zIndex=1,o}return br(e,Dn),yr(e,[{key:"showControlPoints",value:function(t){this.children.forEach(function(e){return e.setVisible(t)})}},{key:"isEmpty",value:function(){var t=hr(this.rect,2);return En(t[0],t[1])}},{key:"getRect",value:function(){return this.rect}},{key:"setRect",value:function(t){this.rect=function(t){var e=mn(t,2),n=e[0],r=e[1],o=mn(n,2),i=o[0],a=o[1],s=mn(r,2),u=s[0],c=s[1];if(i>u){var l=i;i=u,u=l}if(a>c){var h=a;a=c,c=h}return[[i,a],[u,c]]}(t);var e=_n(this.rect);this.tItem.pos=e[0],this.bItem.pos=e[1],this.lItem.pos=e[2],this.rItem.pos=e[3]}},{key:"moveBy",value:function(t){var e,n,r,o,i;this.rect=(e=this.rect,n=t,r=mn(e,2),o=r[0],i=r[1],[gn(o,n),gn(i,n)]),this.children.forEach(function(e){return e.pos=gn(e.pos,t)})}},{key:"draw",value:function(t){var e=hr(this.rect,1)[0],n=hr(this.scene.toScene(e),2),r=n[0],o=n[1],i=hr(this.scene.sizeToScene(function(t){var e=mn(t,2),n=e[0],r=e[1],o=mn(n,2),i=o[0],a=o[1],s=mn(r,2),u=s[0],c=s[1];return[Math.abs(u-i),Math.abs(c-a)]}(this.rect)),2),a=i[0],s=i[1];t.save(),t.strokeStyle="#ff0000",t.lineWidth=2,t.beginPath(),t.rect(r,o,a,s),t.stroke(),t.restore()}},{key:"moveControlPointBy",value:function(t,e){var n=hr(e,2),r=n[0],o=n[1];t===this.lItem||t===this.rItem?t.pos=gn(t.pos,[r,0]):t.pos=gn(t.pos,[0,o]);var i=this.lItem.pos[0],a=this.rItem.pos[0],s=this.tItem.pos[1],u=this.bItem.pos[1];if(i>a){var c=this.lItem;this.lItem=this.rItem,this.rItem=c}if(s>u){var l=this.tItem;this.tItem=this.bItem,this.bItem=l}this.setRect([[i,s],[a,u]])}},{key:"hitTest",value:function(t){var e=wn(this.rect,[5,5]),n=wn(this.rect,[-5,-5]);return Tn(e,t)&&!Tn(n,t)}}]),e}(),Ar=function(t){function e(t){var n;return pr(this,e),(n=mr(this,vr(e).call(this,t))).dragItem=null,n.panning=!1,n.annotationRectStart=null,n.annotationRectEnd=null,n.annotationLineItem=null,n.annotationRectItem=null,n}return br(e,Kn),yr(e,[{key:"renderScene",value:function(){var t=this;this.scene.clear(),this.scene.origin=this.props.pan,this.imageItem=new Un(this.props.img),this.scene.addItem(this.imageItem),this.props.annotations.lines.forEach(function(e){var n=hr(e,2),r=n[0],o=n[1];t.scene.addItem(new Rr(r,o,t.props.subTool))}),this.props.annotations.rectangles.forEach(function(e){var n=hr(e,2),r=n[0],o=n[1];t.scene.addItem(new kr(r,o,t.props.subTool))})}},{key:"setPan",value:function(){var t;this.props.dispatch((t=this.scene.origin,{type:_e.SET_PAN,pan:t}))}},{key:"setAnnotations",value:function(){var t,e=this.scene.getItems(Rr).map(function(t){return t.getLine()}),n=this.scene.getItems(kr).map(function(t){return t.getRect()});this.props.dispatch((t={lines:e,rectangles:n},{type:_e.SET_ANNOTATIONS,annotations:t}))}},{key:"componentDidUpdate",value:function(t){lr(vr(e.prototype),"componentDidUpdate",this).call(this,t),this.props.pan===t.pan&&this.props.tool===t.tool&&this.props.subTool===t.subTool&&this.props.annotations===t.annotations||(this.renderScene(),this.scene.update())}},{key:"getCursor",value:function(){switch(this.props.tool){case Te.PAN:return"grab";case Te.ANNOTATE:switch(this.props.subTool){case we.ANNOTATE.LINE:case we.ANNOTATE.RECTANGLE:return"crosshair";case we.ANNOTATE.MOVE:return"grab";case we.ANNOTATE.EDIT:return"default";case we.ANNOTATE.DELETE:return"not-allowed"}}}},{key:"setCursor",value:function(t){this.canvasRef.style.cursor=t||this.getCursor()}},{key:"handleKeyDown",value:function(t){console.log(t.keyCode);var e=null;switch(t.keyCode){case 37:e=[10,0];break;case 38:e=[0,10];break;case 39:e=[-10,0];break;case 40:e=[0,-10]}e&&(t.preventDefault(),this.scene.origin=gn(this.scene.origin,e),this.scene.update())}},{key:"handleKeyUp",value:function(){this.setPan()}},{key:"handleMouseDown",value:function(t){var e,n=this,r=this.getMousePos(t);ft(this.props.tool,(cr(e={},Te.PAN,function(){n.panning=!0,n.addMouseMoveHandler(),n.setCursor("grabbing")}),cr(e,Te.ANNOTATE,function(){var t;return ft(n.props.subTool,(cr(t={},we.ANNOTATE.MOVE,function(){var t=n.scene.itemAt(r);(t instanceof Rr||t instanceof kr)&&(n.dragItem=t,n.addMouseMoveHandler(),n.setCursor("grabbing"))}),cr(t,we.ANNOTATE.LINE,function(){var t=new Rr(r,r,we.ANNOTATE.LINE);n.scene.addItem(t),n.annotationLineItem=t,n.addMouseMoveHandler()}),cr(t,we.ANNOTATE.RECTANGLE,function(){var t=new kr(r,r,we.ANNOTATE.RECTANGLE);n.scene.addItem(t),n.annotationRectItem=t,n.annotationRectStart=r,n.annotationRectEnd=r,n.addMouseMoveHandler()}),cr(t,we.ANNOTATE.EDIT,function(){var t=n.scene.itemAt(r);t instanceof Cr&&(n.dragItem=t,n.addMouseMoveHandler())}),cr(t,we.ANNOTATE.DELETE,function(){var t=n.scene.itemAt(r);(t instanceof Rr||t instanceof kr)&&(n.scene.removeItem(t),n.setAnnotations())}),t))}),e))}},{key:"handleMouseUp",value:function(){var t,e=this;ft(this.props.tool,(cr(t={},Te.PAN,function(){e.panning&&(e.panning=!1,e.removeMouseMoveHandler(),e.setCursor(),e.setPan())}),cr(t,Te.ANNOTATE,function(){var t;return ft(e.props.subTool,(cr(t={},we.ANNOTATE.MOVE,function(){e.dragItem&&(e.dragItem=null,e.removeMouseMoveHandler(),e.setCursor(),e.setAnnotations())}),cr(t,we.ANNOTATE.LINE,function(){e.annotationLineItem&&(e.annotationLineItem.isEmpty()&&e.scene.removeItem(e.annotationLineItem),e.annotationLineItem=null,e.removeMouseMoveHandler(),e.setAnnotations())}),cr(t,we.ANNOTATE.RECTANGLE,function(){e.annotationRectItem&&(e.annotationRectItem.isEmpty()&&e.scene.removeItem(e.annotationRectItem),e.annotationRectStart=null,e.annotationRectEnd=null,e.annotationRectItem=null,e.removeMouseMoveHandler(),e.setAnnotations())}),cr(t,we.ANNOTATE.EDIT,function(){e.dragItem&&(e.dragItem=null,e.removeMouseMoveHandler(),e.setAnnotations())}),t))}),t))}},{key:"handleMouseMove",value:function(t){var e,n=this,r=this.getMousePos(t);ft(this.props.tool,(cr(e={},Te.PAN,function(){var e;switch(n.props.subTool){case we.PAN.ALL:e=n.getMouseDelta(t);break;case we.PAN.HORIZONTAL:e=n.getMouseDelta(t,"horizontal");break;case we.PAN.VERTICAL:e=n.getMouseDelta(t,"vertical")}n.scene.origin=gn(n.scene.origin,e)}),cr(e,Te.ANNOTATE,function(){var e;return ft(n.props.subTool,(cr(e={},we.ANNOTATE.MOVE,function(){var e=n.getMouseDelta(t);n.dragItem.moveBy(e)}),cr(e,we.ANNOTATE.LINE,function(){n.annotationLineItem.item1.pos=r}),cr(e,we.ANNOTATE.RECTANGLE,function(){n.annotationRectEnd=r,n.annotationRectItem.setRect([n.annotationRectStart,n.annotationRectEnd])}),cr(e,we.ANNOTATE.EDIT,function(){var e=n.getMouseDelta(t);n.dragItem.moveBy(e)}),e))}),e)),this.scene.update()}}]),e}();Ar.propTypes=(Sr=Kn.propTypes,Or={tool:c.a.string.isRequired,subTool:c.a.string.isRequired,pan:c.a.arrayOf(c.a.number).isRequired,annotations:c.a.object.isRequired},ht({},Sr,Or));var Ir=function(t){function e(){return pr(this,e),mr(this,vr(e).apply(this,arguments))}return br(e,o.a.Component),yr(e,[{key:"renderSubTools",value:function(){var t=this.props,e=t.tool,n=t.subTool,r=t.dispatch;switch(e){case Te.PAN:return o.a.createElement(wr,{subTool:n,dispatch:r});case Te.ANNOTATE:return o.a.createElement(Tr,{subTool:n,dispatch:r})}}},{key:"render",value:function(){var t=this.props,e=t.tool,n=t.subTool,r=t.zoomValue,i=t.zoomPercentage,a=t.rotation,s=t.pan,u=t.annotations,c=t.img,l=t.dispatch;return o.a.createElement("div",{className:"viewer-container"},o.a.createElement("div",{className:"viewer-inner-container"},o.a.createElement(sr,{zoomValue:r,zoomPercentage:i,dispatch:l},o.a.createElement(_r,{tool:e,dispatch:l}),this.renderSubTools()),o.a.createElement(Ar,{tool:e,subTool:n,pan:s,img:c,zoomValue:r,rotation:a,annotations:u,dispatch:l})))}}]),e}();Ir.propTypes={tool:c.a.string.isRequired,subTool:c.a.string,zoomValue:c.a.string.isRequired,zoomPercentage:c.a.number.isRequired,rotation:c.a.number.isRequired,error:c.a.string,pan:c.a.arrayOf(c.a.number).isRequired,annotations:c.a.object.isRequired,img:c.a.instanceOf(Element).isRequired,dispatch:c.a.func.isRequired};var Pr=rt(function(t){var e=t.viewer,n=t.image,r=e.zoomValue,o=e.zoomPercentage,i=e.rotation,a=e.error,s=e.tool,u=e.subTools,c=e.pan,l=e.annotations,h=n.img;return{zoomValue:r,zoomPercentage:o,rotation:i,error:a,tool:s,subTool:u[s],pan:c,annotations:l,img:h}})(Ir);function Nr(t){return(Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xr(t){return(xr="function"==typeof Symbol&&"symbol"===Nr(Symbol.iterator)?function(t){return Nr(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":Nr(t)})(t)}function jr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lr(t){return(Lr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Dr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ur(t,e){return(Ur=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Mr=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Lr(e).call(this,t))||"object"!==xr(o)&&"function"!=typeof o?Dr(r):o).handleWorkflowChange=n.handleWorkflowChange.bind(Dr(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ur(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this.props,e=t.activeWorkflows,n=t.currentWorkflowId;return o.a.createElement("div",{className:"workflow-selector form-inline"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"workflow-selector"},"Workflow"),o.a.createElement("select",{className:"form-control mx-3",id:"workflow-selector",value:n,onChange:this.handleWorkflowChange},e.map(function(t){var e=t.id,n=t.displayName;return o.a.createElement("option",{key:e,value:e},n)}))))}},{key:"handleWorkflowChange",value:function(t){this.props.dispatch(qe(t.target.value))}}])&&jr(n.prototype,r),i&&jr(n,i),e}();Mr.propTypes={currentWorkflowId:c.a.string.isRequired,activeWorkflows:c.a.arrayOf(c.a.object).isRequired,dispatch:c.a.func.isRequired};var Fr=Mr;function Hr(t){return(Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qr(t){return(qr="function"==typeof Symbol&&"symbol"===Hr(Symbol.iterator)?function(t){return Hr(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":Hr(t)})(t)}function Wr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zr(t){return(zr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Br(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vr(t,e){return(Vr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Kr=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=zr(e).call(this,t))||"object"!==qr(o)&&"function"!=typeof o?Br(r):o).state={nextTabIndex:-1},n.handleSwitchInput=n.handleSwitchInput.bind(Br(n)),n.handleClassificationCompleted=n.handleClassificationCompleted.bind(Br(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vr(t,e)}(e,o.a.Component),n=e,(r=[{key:"updateTabIndex",value:function(){var t=this.state.nextTabIndex;-1!==t&&(ut(t),this.setState({nextTabIndex:-1}))}},{key:"handleSwitchInput",value:function(t,e){var n,r;n=t,(r=document.querySelector("[tabIndex='"+n+"']"))&&r.blur(),this.setState({nextTabIndex:e})}},{key:"componentDidUpdate",value:function(){this.updateTabIndex()}},{key:"componentDidMount",value:function(){Ft(),this.props.dispatch(function(t,e){return t(Tt()).then(function(){return t(kt())}).then(function(){var n=e().workflow;if(n.status===Ot.ACTIVE_WORKFLOWS_EMPTY)return Promise.resolve();var r=n.activeWorkflows;return t(qe(r[0].id))}).catch(function(t){return console.error(t)})})}},{key:"handleClassificationCompleted",value:function(){this.props.dispatch(ze())}},{key:"renderStep",value:function(){var t=this.props,e=t.taskStatus,n=t.locationTitle,r=t.values,i=t.valuesOk,a=t.subject,s=t.dispatch;switch(e){case Vt.INIT:return null;case Vt.TRANSCRIBE:return o.a.createElement(sn,{locationTitle:n,values:r,valuesOk:i,dispatch:s,onSwitchInput:this.handleSwitchInput});case Vt.SUMMARY:return o.a.createElement(yn,{locationTitle:n,values:r,subject:a.currentSubject,dispatch:s,onDone:this.handleClassificationCompleted})}}},{key:"renderLoader",value:function(){return o.a.createElement("div",{className:"loader"},o.a.createElement("i",{className:"fa fa-spinner fa-spin fa-fw fa-2x"}))}},{key:"render",value:function(){var t=this.props,e=t.workflowStatus,n=t.taskStatus,r=t.currentWorkflowId,i=t.activeWorkflows,a=t.dispatch;return e===Ot.ACTIVE_WORKFLOWS_EMPTY?o.a.createElement("div",{className:"outer-container"},o.a.createElement("div",{className:"alert alert-secondary",role:"alert"},"There are no active workflows available!")):o.a.createElement("div",{className:"outer-container"},e===Ot.WORKFLOW_READY?o.a.createElement(Fr,{currentWorkflowId:r,activeWorkflows:i,dispatch:a}):null,n===Vt.INIT?this.renderLoader():o.a.createElement("div",{className:"main-container"},o.a.createElement("div",{className:"main-inner-container"},o.a.createElement(Pr,null),this.renderStep())))}}])&&Wr(n.prototype,r),i&&Wr(n,i),e}();Kr.propTypes={currentWorkflowId:c.a.string,activeWorkflows:c.a.arrayOf(c.a.object).isRequired,subject:c.a.object,image:c.a.object.isRequired,locationTitle:c.a.string,taskStatus:c.a.string.isRequired,workflowStatus:c.a.string.isRequired,values:c.a.object.isRequired,valuesOk:c.a.bool.isRequired,dispatch:c.a.func.isRequired};var Gr=rt(function(t){var e=t.workflow,n=t.subject,r=t.image,o=t.task;return{currentWorkflowId:e.currentId,activeWorkflows:e.activeWorkflows,image:r,subject:n,taskStatus:o.status,workflowStatus:e.status,locationTitle:o.locationTitle,values:{pressure:o.pressure,dryTemperature:o.dryTemperature,wetTemperature:o.wetTemperature,maxTemperature:o.maxTemperature,minTemperature:o.minTemperature,rainfall:o.rainfall},valuesOk:o.valuesOk}})(Kr);function $r(t){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jr(t){return(Jr="function"==typeof Symbol&&"symbol"===$r(Symbol.iterator)?function(t){return $r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":$r(t)})(t)}function Yr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zr(t){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qr(t,e){return(Qr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var to=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Zr(e).call(this,t))||"object"!==Jr(o)&&"function"!=typeof o?Xr(r):o).handleNavigate=n.handleNavigate.bind(Xr(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qr(t,e)}(e,o.a.Component),n=e,(r=[{key:"handleNavigate",value:function(){var t;this.props.dispatch((t=window.location.hash.substring(1),window.location.hash="#"+t,{type:pe.NAVIGATE,route:t}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("hashchange",this.handleNavigate)}},{key:"componentDidMount",value:function(){this.handleNavigate(),window.addEventListener("hashchange",this.handleNavigate)}},{key:"renderPage",value:function(t){switch(t){case"":return o.a.createElement(He,null);case"classify":return o.a.createElement(Gr,null);default:return o.a.createElement("div",{className:"text-center font-md"},"Not found!")}}},{key:"render",value:function(){var t=this.props.route;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Fe,{route:t}),this.renderPage(t))}}])&&Yr(n.prototype,r),i&&Yr(n,i),e}();to.propTypes={route:c.a.string.isRequired,dispatch:c.a.func.isRequired};var eo=rt(function(t){return{route:t.router.route}})(to),no=k(Ae,N.apply(void 0,Ie));a.a.render(o.a.createElement(f,{store:no},o.a.createElement(eo,null)),document.getElementById("app"))}]);